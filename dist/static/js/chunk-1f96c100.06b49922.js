(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f96c100"],{"12b1":function(t,e,i){},"26bd":function(t,e,i){"use strict";var r=i("12b1"),n=i.n(r);n.a},b890:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"voucherParameters-container"},[i("el-card",{staticClass:"box-card"},[i("el-button",{attrs:{type:"primary"},on:{click:t.addType}},[t._v(" 添加新类型 ")]),t._v(" "),t._l(t.formArr1,(function(e,r){return i("div",{key:r,staticClass:"con"},[i("el-form",{ref:"form",refInFor:!0,attrs:{model:e,rules:t.rules,size:"medium"}},[i("div",{staticClass:"box-card-con"},[i("H5",[t._v("条件十二: 贵族会员福利")]),t._v(" "),i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"需入金量达到USDT：",prop:"incomeAmount","label-width":t.labelWidth}},[i("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!t.isModify1},on:{input:function(e){return t.checkVal("incomeAmount","noDot")}},model:{value:e.incomeAmount,callback:function(i){t.$set(e,"incomeAmount",i)},expression:"form.incomeAmount"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"需开仓交易额USDT：",prop:"openPositionAmount","label-width":t.labelWidth}},[i("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!t.isModify1},on:{input:function(e){return t.checkVal("openPositionAmount","noDot")}},model:{value:e.openPositionAmount,callback:function(i){t.$set(e,"openPositionAmount",i)},expression:"form.openPositionAmount"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"可获得邀请名额",prop:"inviteNumber","label-width":t.labelWidth}},[i("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!t.isModify1},on:{input:function(e){return t.checkVal("inviteNumber","noDot")}},model:{value:e.inviteNumber,callback:function(i){t.$set(e,"inviteNumber",i)},expression:"form.inviteNumber"}})],1)],1)],1)],1),t._v(" "),t.isCURDAuth?i("div",[t.isModify1?t._e():i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.isModify1=!0}}},[t._v("修改")])],1),t._v(" "),t.isModify1?i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:t.cancelSend1}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"medium",loading:t.confirmLoading},on:{click:function(i){return t.confirmSend(e)}}},[t._v("提交修改")])],1):t._e()]):t._e()])],1)})),t._v(" "),t._l(t.formArr2,(function(e,r){return i("div",{key:r,staticClass:"con"},[i("el-form",{ref:"form",refInFor:!0,attrs:{model:e,rules:t.netCashRules}},[i("H5",[t._v("条件十三: 代理净入金"+t._s(r+1))]),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{required:!0,label:"关联代理UID","label-width":t.labelWidth}},[i("el-input",{attrs:{disabled:!t.isModify2,rows:"3",type:"textarea",placeholder:"请输入代理UID,以逗号隔开"},on:{input:function(t){e.agentUid=e.agentUid.replace(/[^\d,]/g,"")}},model:{value:e.agentUid,callback:function(i){t.$set(e,"agentUid","string"===typeof i?i.trim():i)},expression:"form.agentUid"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:16}},[t._l(e.triggerVOS,(function(e,n){return i("el-row",{key:n},[i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{required:!0,label:n+1+" 累计净划入","label-width":"180px"}},[i("el-select",{attrs:{disabled:!t.isModify2,placeholder:"请选择"},model:{value:e.coinName,callback:function(i){t.$set(e,"coinName",i)},expression:"fl.coinName"}},t._l(t.symbollist,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.label}})})),1)],1)],1),t._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{required:!0,label:"达到USDT","label-width":t.labelWidth}},[i("el-input",{attrs:{disabled:!t.isModify2,type:"text",placeholder:"请输入"},on:{input:function(t){e.netIncomeTargetAmount=e.netIncomeTargetAmount.replace(/[^\d]/g,"")}},model:{value:e.netIncomeTargetAmount,callback:function(i){t.$set(e,"netIncomeTargetAmount","string"===typeof i?i.trim():i)},expression:"fl.netIncomeTargetAmount"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:4}},[i("el-button",{staticStyle:{"margin-left":"20px","margin-top":"5px"},attrs:{disabled:!t.isModify2,size:"small",round:"",plain:"",type:"danger"},on:{click:function(e){return e.stopPropagation(),t.delTriggerIdList("formArr2",r,n)}}},[t._v("删除")])],1)],1)})),t._v(" "),i("el-row",{staticClass:"type-middle"},[i("el-button",{attrs:{disabled:!t.isModify2,type:"primary",size:"medium"},on:{click:function(e){return t.addNetCash("formArr2",r)}}},[t._v("+添加")])],1)],2)],1),t._v(" "),t.isCURDAuth?i("div",[t.isModify2?t._e():i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.isModify2=!0}}},[t._v("修改")])],1),t._v(" "),t.isModify2?i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:t.cancelSend2}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"medium",loading:t.confirmLoading},on:{click:function(i){return t.confirmSend(e)}}},[t._v("提交修改")])],1):t._e()]):t._e()],1)],1)})),t._v(" "),t._l(t.formArr3,(function(e,r){return i("div",{key:r,staticClass:"con"},[i("el-form",{ref:"form",refInFor:!0,attrs:{model:e,rules:t.netCashRules}},[i("H5",[t._v("条件十四: 直推邀请"+t._s(r+1))]),t._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[t._l(e.triggerVOS,(function(e,n){return i("el-row",{key:n},[i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{required:!0,label:n+1+" 邀请直推新用户数量","label-width":"200px"}},[i("el-input",{attrs:{disabled:!t.isModify3,type:"text",placeholder:"请输入"},on:{input:function(t){e.lowNumber=e.lowNumber.replace(/[^\d]/g,"")}},model:{value:e.lowNumber,callback:function(i){t.$set(e,"lowNumber","string"===typeof i?i.trim():i)},expression:"fl.lowNumber"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{required:!0,label:"需完成开仓交易额USDT：","label-width":"200px"}},[i("el-input",{attrs:{disabled:!t.isModify3,type:"text",placeholder:"请输入"},on:{input:function(t){e.tradeTargetAmount=e.tradeTargetAmount.replace(/[^\d]/g,"")}},model:{value:e.tradeTargetAmount,callback:function(i){t.$set(e,"tradeTargetAmount","string"===typeof i?i.trim():i)},expression:"fl.tradeTargetAmount"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-button",{staticStyle:{"margin-left":"20px","margin-top":"5px"},attrs:{disabled:!t.isModify3,size:"small",round:"",plain:"",type:"danger"},on:{click:function(e){return e.stopPropagation(),t.delTriggerIdList("formArr3",r,n)}}},[t._v("删除")])],1)],1)})),t._v(" "),i("el-row",{staticClass:"type-middle"},[i("el-button",{attrs:{disabled:!t.isModify3,type:"primary",size:"medium"},on:{click:function(e){return t.addNetCash("formArr3",r)}}},[t._v("+添加")])],1)],2)],1),t._v(" "),t.isCURDAuth?i("div",[t.isModify3?t._e():i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.isModify3=!0}}},[t._v("修改")])],1),t._v(" "),t.isModify3?i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:t.cancelSend3}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"medium",loading:t.confirmLoading},on:{click:function(i){return t.confirmSend(e)}}},[t._v("提交修改")])],1):t._e()]):t._e()],1)],1)})),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible,width:"500px",title:"添加新类型"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":t.labelWidth,rules:t.addRules}},[i("el-form-item",{attrs:{label:"类型",prop:"type"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addForm.type,callback:function(e){t.$set(t.addForm,"type",e)},expression:"addForm.type"}},t._l(t.addTypeList,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),i("div",{staticClass:"inner-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-right":"10px"},on:{click:function(e){e.stopPropagation(),t.dialogVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.confirmAdd(e)}}},[t._v("确定")])],1)],1)],2)],1)},n=[],o=(i("ac6a"),i("96cf"),i("3b8d")),a=i("4ec3"),s=(i("ca00"),{data:function(){return{dialogVisible:!1,isCURDAuth:!0,isModify1:!1,isModify2:!1,isModify3:!1,listLoading:!1,confirmLoading:!1,list:[],labelWidth:"140px",formArr1:[],formArr2:[],formArr3:[],rules:{incomeAmount:[{required:!0,message:"必填",trigger:"blur"}],inviteNumber:[{required:!0,message:"必填",trigger:"blur"}],openPositionAmount:[{required:!0,message:"必填",trigger:"blur"}]},symbollist:[],netCashRules:{},addForm:{},addRules:{type:[{required:!0,message:"必填",trigger:"blur"}]},addTypeList:[{label:"净入金金额开仓交易额",value:0,arr:"formArr1",isModify:"isModify1"},{label:"代理净入金",value:1,arr:"formArr2",isModify:"isModify2"},{label:"直推邀请",value:2,arr:"formArr3",isModify:"isModify3"}]}},methods:{delTriggerIdList:function(t,e,i){1==this[t][e].triggerVOS.length?this[t]=[]:this[t][e].triggerVOS.splice(i,1)},confirmAdd:function(){var t=this;this.$refs["addForm"].validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(i){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i&&(r=t.addForm.type,t[t.addTypeList[r].arr].push({id:"",openPositionAmount:"",incomeAmount:"",inviteNumber:"",content:"",agentUid:"",activityType:t.addTypeList[r].value,triggerVOS:[{netIncomeTargetAmount:"",lowNumber:"",triggerCondition:t.addTypeList[r].value,tradeTargetAmount:"",activityType:t.addTypeList[r].value,triggerType:t.addTypeList[r].value}]}),t.dialogVisible=!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},addType:function(){var t=this;this.dialogVisible=!0,this.$nextTick((function(){t.addForm={type:""}}))},addNetCash:function(t,e){console.log("index",e),this[t][e].triggerVOS.push({netIncomeTargetAmount:"",lowNumber:"",triggerCondition:"",tradeTargetAmount:"",activityType:"",triggerType:""})},cancelSend1:function(){this.isModify1=!1,this.getList()},cancelSend2:function(){this.isModify2=!1,this.getList()},cancelSend3:function(){this.isModify3=!1,this.getList()},checkVal:function(t,e){},getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.listLoading){t.next=2;break}return t.abrupt("return");case 2:return e={},this.listLoading=!0,t.next=6,a["a"].getAllTriggerConditionNew(e);case 6:t.sent,this.listLoading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),confirmSend:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var i,r,n,o,s,l,d,c,u,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.agentUid,r=e.activityType,n=e.triggerVOS,o=e.id,s=e.openPositionAmount,l=e.incomeAmount,d=e.inviteNumber,c={agentUid:i,activityType:r,triggerVOS:n,openPositionAmount:s,incomeAmount:l,inviteNumber:d},o&&(c.id=o),this.confirmLoading=!0,o){t.next=10;break}return t.next=7,a["a"].addVoucherParameters(c);case 7:t.t0=t.sent,t.next=13;break;case 10:return t.next=12,a["a"].editVoucherParameters(c);case 12:t.t0=t.sent;case 13:u=t.t0,u&&(m="",m=o?"修改成功！":"添加成功！",this.$message({message:m,type:"success"}),this.getList(),this[this.addTypeList[r]].isModify=!1),this.confirmLoading=!1;case 16:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getSymbolList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("common/getSymbolListContract").then((function(){var t=[],i=e.$store.state.common.symbollistContract;i.forEach((function(e){"BTCUSDT"==e.label&&t.push(e)})),e.symbollist=t}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this.$util.getAuthority("VoucherParameters",[],[]);this.isCURDAuth=t.isModify,this.getSymbolList(),this.getList()}}),l=s,d=(i("26bd"),i("0c7c")),c=Object(d["a"])(l,r,n,!1,null,null,null);e["default"]=c.exports}}]);