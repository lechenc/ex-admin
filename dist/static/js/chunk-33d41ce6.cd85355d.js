(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33d41ce6"],{"65fd":function(t,e,a){"use strict";var i=a("e0e3"),s=a.n(i);s.a},d917:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chartStatistic-container"},[a("div",{staticClass:"inner-bottom"},[a("h3",[t._v("图表统计")]),t._v(" "),a("div",{staticClass:"chart-con"},[a("div",{staticClass:"chart-header"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.radioStatus,callback:function(e){t.radioStatus=e},expression:"radioStatus"}},[a("el-tab-pane",{attrs:{label:"币币交易额",name:"one"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"法币交易额",name:"two"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"平台币币订单量",name:"three"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"平台法币订单量",name:"four"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"平台注册量",name:"five"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"平台实名量",name:"six"}})],1)],1),t._v(" "),a("div",{staticClass:"chart-subHeader"},[a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择"},on:{change:t.changeSelect},model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}},[a("el-option",{attrs:{label:"月线图",value:1}}),t._v(" "),a("el-option",{attrs:{label:"季度图",value:2}}),t._v(" "),a("el-option",{attrs:{label:"周线图",value:3}}),t._v(" "),a("el-option",{attrs:{label:"日线图",value:4}})],1)],1),t._v(" "),a("div",{attrs:{id:"echarNow"}})])])])},s=[],r=(a("6c7b"),a("2909")),n=(a("6762"),a("2fdb"),a("4f7f"),a("5df3"),a("1c4c"),a("ac6a"),a("96cf"),a("1da1")),o=a("4ec3"),c=a("313e"),h=a.n(c),l=a("ed08"),u={name:"ChartStatistic",data:function(){return{timer:-1,curRow:{},radioStatus:"one",selectStatus:1,isMove:!1,myChart:null,startPlace:null,endPlace:null,startTime:"",endTime:"",startTimeBefore:"",endTimeBefore:"",xDay:[],yDay:[],bbxDay:[],bbyDay:[],todayTime:0,interval:5,moveAddNum:1,moveDelNum:1,isAddDate:!0,getCoinName:[],colorArr:["#369AEC","#1B9C09","#FB6D03","#000","#ffff00","#FFCD43","#9B3B66","#728331","#1E38A1"],linePart:{name:"",data:[],type:"line",smooth:!0,itemStyle:{normal:{color:"#275F82",lineStyle:{color:"#369AEC"}}},areaStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#3BB2F0"},{offset:1,color:"white"}],globalCoord:!1}}}},commonOption:{legend:{data:[]},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],splitLine:{show:!1},name:"时间"},grid:{top:80,bottom:100},yAxis:{type:"value",name:"统计量",nameTextStyle:{fontWeight:600,fontSize:18}},tooltip:{trigger:"axis"},dataZoom:[{realtime:!0,type:"slider",start:5,end:95,xAxisIndex:0,filterMode:"empty",dataZoomIndex:1}],series:[{name:"",data:[],type:"line",smooth:!0,itemStyle:{normal:{color:"#275F82",lineStyle:{color:"#369AEC"}}},areaStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#3BB2F0"},{offset:1,color:"white"}],globalCoord:!1}}}}]},option:{}}},computed:{device:function(){return this.$store.state.app.device}},methods:{handleClick:function(t,e){this.resetData(),this.chartLabel()},changeSelect:function(t){this.resetData(),this.selectStatus=parseInt(t),this.chartLabel()},resetData:function(){this.option=JSON.parse(JSON.stringify(this.commonOption)),this.xDay=[],this.yDay=[],this.moveAddNum=1,this.moveDelNum=1,this.startTime=this.startTimeBefore,this.endTime=this.endTimeBefore,this.option.xAxis.data=[],this.option.series=[],this.option.series[0]=this.linePart,this.bbxDay=[],this.bbyDay=[],this.getCoinName=[],this.myChart&&this.myChart.clear()},chartLabel:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=2,t.t0=this.radioStatus,t.next="one"===t.t0?4:"two"===t.t0?6:"three"===t.t0?8:"four"===t.t0?10:"five"===t.t0?12:"six"===t.t0?14:16;break;case 4:return e=1,t.abrupt("break",16);case 6:return e=2,t.abrupt("break",16);case 8:return e=3,t.abrupt("break",16);case 10:return e=4,t.abrupt("break",16);case 12:return e=5,t.abrupt("break",16);case 14:return e=6,t.abrupt("break",16);case 16:this.chartData(e);case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),chartData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,i,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(2!=e&&4!=e){t.next=8;break}return i={chart:this.selectStatus},4==this.selectStatus&&(i.startTime=Object(l["a"])(this.startTime,"{y}-{m}-{d}"),i.endTime=Object(l["a"])(this.endTime,"{y}-{m}-{d}")),t.next=5,o["a"].otcChartNew(i);case 5:a=t.sent,t.next=21;break;case 8:if(1!=e&&3!=e){t.next=16;break}return s={chart:this.selectStatus},4==this.selectStatus&&(s.startTime=Object(l["a"])(this.startTime,"{y}-{m}-{d}"),s.endTime=Object(l["a"])(this.endTime,"{y}-{m}-{d}")),t.next=13,o["a"].ordeDailySnapshot(s);case 13:a=t.sent,t.next=21;break;case 16:return r={chart:this.selectStatus,type:e},4==this.selectStatus&&(r.startTime=Object(l["a"])(this.startTime,"{y}-{m}-{d}"),r.endTime=Object(l["a"])(this.endTime,"{y}-{m}-{d}")),t.next=20,o["a"].statisticsChart(r);case 20:a=t.sent;case 21:this.dealData(a,e);case 22:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),dealData:function(t,e){var a=this;if(t){var i=t.data.data;if(i&&i.length>0){var s=[],r=[];if(2==e||4==e){if(4!=this.selectStatus&&i.forEach((function(t){1==a.selectStatus?s.push("".concat(t.chartYear,"年").concat(t.chartMonth,"月")):2==a.selectStatus?s.push("".concat(t.chartYear,"年第").concat(t.chartQuarter,"季度")):3==a.selectStatus&&s.push("".concat(t.chartYear,"年第").concat(parseInt(t.chartWeek)+1,"周")),2==e?r.push(t.money):r.push(t.count)})),4==this.selectStatus)for(var n="",o=function(t){var o=new Date(new Date(a.startTime).getTime()+864e5*t);if(o>=a.todayTime)return"continue";var c=Object(l["a"])(o,"{y}-{m}-{d}")+"";n="",i.forEach((function(t){t.createDate==c&&(n=2==e?t.money:t.count)})),s.push(c),n?r.push(n):r.push(0)},c=0;c<this.interval;c++)o(c)}else if(1==e||3==e){var h=[],u=[],m="";i.forEach((function(t){1==a.selectStatus?m="".concat(t.chartYear,"年").concat(t.chartMonth,"月"):2==a.selectStatus?m="".concat(t.chartYear,"年第").concat(t.chartQuarter,"季度"):3==a.selectStatus?m="".concat(t.chartYear,"年第").concat(parseInt(t.chartWeek)+1,"周"):4==a.selectStatus&&(m="".concat(t.createDate)),1==e?r.push(t.money):r.push(t.count),h.push(t.coinName),u.push(m)}));var d=Array.from(new Set(h));if(u=Array.from(new Set(u)),this.getCoinName.length>1?d.forEach((function(t){a.getCoinName.includes(t)||a.getCoinName.push(t)})):this.getCoinName=d,this.getCoinName.length>1)return void this.dealDataMoreLine(i,e,u)}else if((5==e||6==e)&&(4!=this.selectStatus&&i.forEach((function(t){s.push(t.chart_date),r.push(t.chart_number)})),4==this.selectStatus))for(var p="",f=function(t){var e=new Date(new Date(a.startTime).getTime()+864e5*t);if(e>=a.todayTime)return"continue";var n=Object(l["a"])(e,"{y}-{m}-{d}")+"";p="",i.forEach((function(t){t.chart_date==n&&(p=t.chart_number)})),s.push(n),p?r.push(p):r.push(0)},y=0;y<this.interval;y++)f(y);4==this.selectStatus?this.getDayData(s,r):(this.option.legend.data=[],this.option.xAxis.data=s,this.option.series[0].data=r),this.$nextTick((function(){a.graphical()}))}else{var b=Object(l["a"])(this.startTime,"{y}-{m}-{d}"),v=Object(l["a"])(this.endTime,"{y}-{m}-{d}");if(4==this.selectStatus){if(this.$message({type:"error",message:b+" 至 "+v+" 时间段无数据!",duration:2e3}),1==e||3==e){for(var g=[],D=[],S=[],T=[],x=0;x<this.getCoinName.length;x++){S=[],T=[];for(var w=0;w<this.interval;w++){var C=new Date(new Date(this.startTime).getTime()+864e5*w);if(!(C>=this.todayTime)){var O=Object(l["a"])(C,"{y}-{m}-{d}")+"";S.push(O),T.push(0)}}g.push(S),D.push(T)}this.moreLineChart(g,D)}else if(2==e||4==e||5==e||6==e){for(var N=[],A=[],j=0;j<this.interval;j++){var k=new Date(new Date(this.startTime).getTime()+864e5*j);if(!(k>=this.todayTime)){var B=Object(l["a"])(k,"{y}-{m}-{d}")+"";N.push(B),A.push(0)}}this.getDayData(N,A)}}else this.$message({type:"error",message:"没有更多数据!",duration:2e3}),this.option.xAxis.data=[b,v],this.option.series[0].data=[];this.$nextTick((function(){a.graphical()}))}}},dealDataMoreLine:function(t,e,a){for(var i=this,s=[],r=[],n=[],o=[],c=function(c){if(s=[],r=[],4!=i.selectStatus){for(var h="",u=function(s){var n=a[s];h="",t.forEach((function(t){var a="";1==i.selectStatus?a="".concat(t.chartYear,"年").concat(t.chartMonth,"月"):2==i.selectStatus?a="".concat(t.chartYear,"年第").concat(t.chartQuarter,"季度"):3==i.selectStatus&&(a="".concat(t.chartYear,"年第").concat(parseInt(t.chartWeek)+1,"周")),a==n&&t.coinName==i.getCoinName[c]&&(h=1==e?t.money:t.count)})),h?r.push(h):r.push(0)},m=0;m<a.length;m++)u(m);s=a}else if(4==i.selectStatus)for(var d="",p=function(a){var n=new Date(new Date(i.startTime).getTime()+864e5*a);if(n>=i.todayTime)return"continue";var o=Object(l["a"])(n,"{y}-{m}-{d}")+"";d="",t.forEach((function(t){t.createDate==o&&t.coinName==i.getCoinName[c]&&(d=1==e?t.money:t.count)})),s.push(o),d?r.push(d):r.push(0)},f=0;f<i.interval;f++)p(f);n.push(s),o.push(r)},h=0;h<this.getCoinName.length;h++)c(h);this.moreLineChart(n,o)},moreLineChart:function(t,e){for(var a=this,i=0;i<e.length;i++){var s,n,o,c;if(this.bbxDay[i]||(this.bbxDay[i]=[]),this.bbyDay[i]||(this.bbyDay[i]=[]),this.isAddDate)(s=this.bbxDay[i]).push.apply(s,Object(r["a"])(t[i])),(n=this.bbyDay[i]).push.apply(n,Object(r["a"])(e[i]));else(o=this.bbxDay[i]).unshift.apply(o,Object(r["a"])(t[i])),(c=this.bbyDay[i]).unshift.apply(c,Object(r["a"])(e[i]));this.bbxDay[i]=Array.from(new Set(this.bbxDay[i])),this.option.series[i]=JSON.parse(JSON.stringify(this.linePart)),this.option.series[i].data=this.bbyDay[i],this.option.series[i].name=this.getCoinName[i],this.option.series[i].itemStyle.normal.lineStyle.color=this.colorArr[i],this.option.series[i].itemStyle.normal.color=this.colorArr[i],this.option.series[i].areaStyle.normal.color.colorStops[0].color=this.colorArr[i]}this.option.legend.data=this.getCoinName;for(var h=this.bbxDay[0]||[],l=-1,u=-1,m=0;m<this.bbxDay.length;m++)this.bbxDay[m].length<h.length?l=m:(h=this.bbxDay[m],u=m);if(l>-1)for(var d=0;d<this.bbxDay.length;d++)if(this.bbxDay[d].length<h.length){this.bbxDay[d]=h;var p=this.option.series[u].data.length-this.option.series[d].data.length;if(this.isAddDate){var f,y=new Array(p).fill(0);(f=this.option.series[d].data).unshift.apply(f,Object(r["a"])(y))}else this.option.series[d].data=this.option.series[d].data.concat(new Array(p).fill(0));this.bbyDay[d]=this.option.series[d].data}this.option.xAxis.data=h,this.$nextTick((function(){a.graphical()}))},getDayData:function(t,e){var a,i,s,n;this.isAddDate?((a=this.xDay).push.apply(a,Object(r["a"])(t)),(i=this.yDay).push.apply(i,Object(r["a"])(e))):((s=this.xDay).unshift.apply(s,Object(r["a"])(t)),(n=this.yDay).unshift.apply(n,Object(r["a"])(e)));this.option.legend.data=[],this.option.series[0]=JSON.parse(JSON.stringify(this.linePart)),this.option.xAxis.data=this.xDay,this.option.series[0].data=this.yDay},graphical:function(){var t=this;this.myChart||(this.myChart=h.a.init(document.getElementById("echarNow")),window.addEventListener("resize",this.myChart.resize),this.myChart.on("dataZoom",(function(e){t.timer&&(clearTimeout(t.timer),t.timer=null),t.timer=setTimeout((function(){if(4==t.selectStatus){if(e.batch?(t.startPlace=e.batch[0].start,t.endPlace=e.batch[0].end):(t.startPlace=e.start,t.endPlace=e.end),t.endPlace>=99){if(t.isAddDate=!0,t.startTime=new Date(new Date(t.startTimeBefore).getTime()+864e5*t.interval*t.moveAddNum),t.endTime=new Date(new Date(t.endTimeBefore).getTime()+864e5*t.interval*t.moveAddNum),t.startTime.getTime()>t.todayTime)return void t.$message({type:"error",message:"未来的数据不可查看!",duration:2e3});t.moveAddNum++,t.chartLabel()}t.startPlace<=1&&(t.isAddDate=!1,t.startTime=new Date(new Date(t.startTimeBefore).getTime()-864e5*t.interval*t.moveDelNum),t.endTime=new Date(new Date(t.endTimeBefore).getTime()-864e5*t.interval*t.moveDelNum),t.moveDelNum++,t.chartLabel())}}),500)}))),this.myChart.setOption(this.option)}},mounted:function(){var t=new Date,e=t.getFullYear(),a=parseInt(t.getMonth()),i=new Date(new Date(t).getTime()-864e5*(this.interval+1)).getDate();this.startTime=new Date(e,a,i),this.endTime=new Date(new Date(this.startTime).getTime()+864e5*(this.interval-1)),this.startTimeBefore=this.startTime,this.endTimeBefore=this.endTime,this.todayTime=new Date((new Date).getTime()-864e5),this.option=JSON.parse(JSON.stringify(this.commonOption)),this.chartLabel()}},m=u,d=(a("65fd"),a("2877")),p=Object(d["a"])(m,i,s,!1,null,null,null);e["default"]=p.exports},e0e3:function(t,e,a){},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("28a5"),a("f576"),a("a481"),a("6b54");var i=a("53ca");function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{y}/{m}/{d} {h}:{i}:{s}";if(0===arguments.length)return null;var a,s=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(i["a"])(t)?a=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var r={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},n=s.replace(/{([ymdhisa])+}/g,(function(t,e){var a=r[e];return"a"===e?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return n=n.replace(/\//gi,"-"),n}}}]);