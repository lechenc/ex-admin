(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac5c899e"],{"5cd4":function(e,t,a){"use strict";var r=a("f8f9"),i=a.n(r);i.a},"64d1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-container"},[a("div",{staticClass:"container-top"},[a("Bsearch",{attrs:{configs:e.searchCofig},on:{"do-search":e.doSearch,"do-reset":e.doReset}})],1),e._v(" "),a("div",{staticClass:"container-btn"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.addAnalyst}},[e._v("添加分析师")])],1),e._v(" "),a("div",[a("Btable",{attrs:{listLoading:e.listLoading,data:e.list,configs:e.configs},on:{"do-handle":e.doHandle}})],1),e._v(" "),a("div",{staticClass:"container-footer"},[a("icon-page",{attrs:{total:e.total,pages:e.pages}}),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":e.current_page,"page-size":e.pageSize,total:e.total},on:{"current-change":e.goPage}})],1),e._v(" "),a("el-Dialog",{staticClass:"notice-dialog",attrs:{visible:e.showDialog,title:e.title,width:"700px"},on:{"update:visible":function(t){e.showDialog=t}}},[a("el-form",{ref:"form",staticStyle:{width:"90%","padding-left":"15px"},attrs:{model:e.form,"label-width":"160px",rules:e.rules}},[a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"登录手机号",prop:"phone"}},[a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"请选择",width:"20%"},model:{value:e.form.phoneAreaCode,callback:function(t){e.$set(e.form,"phoneAreaCode",t)},expression:"form.phoneAreaCode"}},e._l(e.phoneAreaCodeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.phoneAreaCode,value:e.phoneAreaCode}})})),1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone","string"===typeof t?t.trim():t)},expression:"form.phone"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{staticClass:"my-form-item",attrs:{label:"登录邮箱",prop:"email"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email","string"===typeof t?t.trim():t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{staticClass:"my-form-item",attrs:{label:"登录密码",prop:"loginPassword"}},[a("el-input",{attrs:{size:"small",type:"password","auto-complete":"new-password",placeholder:"请输入"},model:{value:e.form.loginPassword,callback:function(t){e.$set(e.form,"loginPassword",t)},expression:"form.loginPassword"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"登录开关",prop:"loginSwitch"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.loginSwitch,callback:function(t){e.$set(e.form,"loginSwitch","string"===typeof t?t.trim():t)},expression:"form.loginSwitch"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"谷歌验证码",prop:"googleCode"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",type:"Number"},model:{value:e.form.googleCode,callback:function(t){e.$set(e.form,"googleCode","string"===typeof t?t.trim():t)},expression:"form.googleCode"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"comfirn-btn footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.btnLoading},on:{click:e.confirm}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(t){e.showDialog=!1}}},[e._v("取消")])],1)],1)],1)},i=[],s=(a("8e6e"),a("456d"),a("a481"),a("ac6a"),a("bd86")),o=(a("96cf"),a("3b8d")),n=a("c249"),l=a("2fee"),c=a("f21b"),u=a("e8f8"),p=a("4ec3"),h=a("ca00"),g=a("70ac"),m=a.n(g);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={name:"AnalystMimicList",components:{Btable:l["a"],Bsearch:n["a"],iconPage:c["a"]},data:function(){return{btnLoading:!1,showDialog:!1,title:"添加分析师",rules:{loginPassword:[{required:!0,message:"请输入",trigger:"blur"}],googleCode:[{required:!0,message:"请输入",trigger:"blur"}]},phoneAreaCodeList:[{label:86}],listLoading:!1,excelLoading:!1,list:[],dataList:[],configs:[],searchCofig:[],search_params_obj:{},current_page:1,pageSize:10,total:0,pages:0,toDay:"",ago:"",excelTitle:"用户列表",form:{loginSwitch:!1,uid:"",phone:"",phoneAreaCode:"",email:"",loginPassword:"",googleCode:""}}},filters:{userType:function(e){}},watch:{showDialog:function(e){e?this.getCode():this.form={loginSwitch:!1,uid:"",phone:"",phoneAreaCode:"",email:"",loginPassword:"",googleCode:""}}},methods:{confirm:function(){var e=this;this.$refs.form.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var r,i,s,o,n,l,c,u,h,g,d,b,w,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=32;break}if(e.form.phone||e.form.email){t.next=3;break}return t.abrupt("return",e.$message.error({title:"提示",message:"请至少填写手机号和邮箱的一种"}));case 3:if(r=e.form,i=r.phone,s=r.phoneAreaCode,o=r.email,n=r.loginPassword,l=r.googleCode,c=r.loginSwitch,u=r.uid,h={googleCode:l,loginSwitch:c?0:1},!i){t.next=12;break}if(g=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/,d=g.test(i),d){t.next=10;break}return t.abrupt("return",e.$message.error("请输入正确手机号"));case 10:h.phone=i,h.phoneAreaCode=s;case 12:if(!o){t.next=18;break}if(b=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/,w=b.test(o),w){t.next=17;break}return t.abrupt("return",e.$message.error("请输入正确邮箱"));case 17:h.email=o;case 18:if(u&&"********"===n||(h.loginPassword=m.a.md5(n)),!u){t.next=25;break}return t.next=22,p["a"].editAnalystMimicList(f({},h,{uid:u}));case 22:t.t0=t.sent,t.next=28;break;case 25:return t.next=27,p["a"].addAnalystMimicList(f({},h));case 27:t.t0=t.sent;case 28:v=t.t0,v&&(u?e.$message.success({title:"提示",message:"编辑成功"}):e.$message.success({title:"提示",message:"添加成功"}),e.showDialog=!1,e.getList()),t.next=33;break;case 32:e.$message.error({title:"提示",message:"请完成表单内容填写再重试"});case 33:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getCode:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["a"].getCountryCode({});case 2:t=e.sent,this.phoneAreaCodeList=t.data.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addAnalyst:function(){this.showDialog=!0,this.title="添加分析师"},doHandle:function(e){var t=e.fn,a=e.row;if("detail"===t&&this.$router.push({path:"/contractMimic/analystMimic/analystMimicDetail",query:{uid:a.uid}}),"edit"===t){this.title="编辑分析师";var r=a.loginSwitch,i=a.uid,s=a.phone,o=a.email,n=(a.loginPassword,a.googleCode);this.form={loginSwitch:!r,uid:i,phone:s,phoneAreaCode:86,email:o,loginPassword:"********",googleCode:n},this.showDialog=!0}},doSearch:function(e){this.current_page=1,this.search_params_obj=e,this.getList()},doReset:function(){this.search_params_obj={},this.searchCofig.forEach((function(e){e["value"]=""})),this.getList()},goPage:function(e){this.current_page=e,this.getList()},exportExcel:function(e){this.search_params_obj=e.query;var t=e.num;h["a"].exportData.apply(this,[t])},getList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r,i,s,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.listLoading){e.next=2;break}return e.abrupt("return");case 2:return t={pageNum:this.current_page,pageSize:this.pageSize},Object.assign(t,this.search_params_obj),this.listLoading=!0,e.next=7,p["a"].getAnalystMimicList(t);case 7:a=e.sent,a&&(r=a.data.data,i=r.records,s=r.total,o=r.pages,n=r.current,this.total=+s,this.pages=+o,this.current_page=n,this.list=i,this.dataList=i),this.listLoading=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),queryData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.excelLoading=!0,this.requiredParams(t),Object.assign(t,this.search_params_obj),e.next=5,p["a"].getUserList(t);case 5:return a=e.sent,this.excelLoading=!1,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),requiredParams:function(e){if(this.$util.isEmptyObject(this.search_params_obj)){var t=this.$util.dateFormat(this.ago,"YYYY/MM/DD HH:mm:ss"),a=this.$util.dateFormat(this.toDay,"YYYY/MM/DD HH:mm:ss");this.searchCofig[0].value=[t,a],e.endTime=a.replace(/\//gi,"-"),e.startTime=t.replace(/\//gi,"-")}this.search_params_obj.startTime&&(this.search_params_obj.endTime=this.formatTime(this.search_params_obj.endTime),this.search_params_obj.startTime=this.formatTime(this.search_params_obj.startTime))},formatTime:function(e){return~(e+"").indexOf("-")?e:e.replace(/\//gi,"-")}},mounted:function(){var e=this.$util.getAuthority("AnalystMimicList",u["d"],u["e"]);this.configs=e.val,this.toDay=this.$util.diyTime("toDay"),this.ago=this.$util.diyTime("ago"),this.searchCofig=this.$util.clone(u["f"]),this.getList()}},w=b,v=(a("5cd4"),a("0c7c")),y=Object(v["a"])(w,r,i,!1,null,null,null);t["default"]=y.exports},f8f9:function(e,t,a){}}]);