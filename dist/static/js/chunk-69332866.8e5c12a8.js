(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69332866"],{"6f62":function(e,t,r){},7345:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"voucherParameters-container"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px",rules:e.rules,size:"medium"}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"box-card-con"},[r("el-form-item",{attrs:{label:"维护开关：",prop:"imgUrlEn"}},[r("el-col",{attrs:{span:8}},[r("el-switch",{attrs:{disabled:!e.isModify,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.bannerStatus,callback:function(t){e.$set(e.form,"bannerStatus",t)},expression:"form.bannerStatus"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Android维护专用图：",prop:"imgUrl"}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{disabled:!e.isModify,size:"small",placeholder:"请选择上传"},model:{value:e.form.imgUrl,callback:function(t){e.$set(e.form,"imgUrl",t)},expression:"form.imgUrl"}},[r("el-upload",{ref:"imgUrl",attrs:{slot:"append",disabled:!e.isModify,action:e.$img_api,multiple:"",data:{type:"exchange"},name:"file",accept:".jpg,.png",limit:1,"before-upload":e.beforeUpload,"show-file-list":!1,"on-success":e.upload1,"on-error":e.uploadCompressError,"on-exceed":e.exceed},slot:"append"},[r("el-button",{attrs:{disabled:!e.isModify,size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"IOS维护专用图：",prop:"proofImg"}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{disabled:!e.isModify,size:"small",placeholder:"请选择上传"},model:{value:e.form.imgUrlEn,callback:function(t){e.$set(e.form,"imgUrlEn",t)},expression:"form.imgUrlEn"}},[r("el-upload",{ref:"uploads",attrs:{slot:"append",disabled:!e.isModify,action:e.$img_api,multiple:"",data:{type:"exchange"},name:"file",accept:".jpg,.png",limit:1,"before-upload":e.beforeUpload,"show-file-list":!1,"on-success":e.upload,"on-error":e.uploadCompressError,"on-exceed":e.exceed},slot:"append"},[r("el-button",{attrs:{disabled:!e.isModify,size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"PC维护专用图：",prop:"proofImg"}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{disabled:!e.isModify,size:"small",placeholder:"请选择上传"},model:{value:e.form.imgUrlEn,callback:function(t){e.$set(e.form,"imgUrlEn",t)},expression:"form.imgUrlEn"}},[r("el-upload",{ref:"uploads",attrs:{slot:"append",disabled:!e.isModify,action:e.$img_api,multiple:"",data:{type:"exchange"},name:"file",accept:".jpg,.png",limit:1,"before-upload":e.beforeUpload,"show-file-list":!1,"on-success":e.upload,"on-error":e.uploadCompressError,"on-exceed":e.exceed},slot:"append"},[r("el-button",{attrs:{disabled:!e.isModify,size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"谷歌验证码：",prop:"inviteNumber"}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isModify},on:{input:function(t){return e.checkVal("inviteNumber","noDot")}},model:{value:e.form.inviteNumber,callback:function(t){e.$set(e.form,"inviteNumber",t)},expression:"form.inviteNumber"}})],1)],1)],1),e._v(" "),e.isCURDAuth?r("div",[e.isModify?e._e():r("div",{staticClass:"middle"},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.isModify=!0}}},[e._v("修改")])],1),e._v(" "),e.isModify?r("div",{staticClass:"middle"},[r("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:e.cancelSend}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"medium",loading:e.confirmLoading},on:{click:e.confirmSend}},[e._v("提交修改")])],1):e._e()]):e._e()])],1)],1)},o=[],s=(r("96cf"),r("3b8d")),n=(r("a481"),r("7f7f"),r("4ec3")),a=(r("ca00"),{data:function(){return{isCURDAuth:!0,isModify:!1,listLoading:!1,confirmLoading:!1,list:[],labelWidth:"140px",form:{imgUrl:""},rules:{incomeAmount:[{required:!0,message:"必填",trigger:"blur"}],inviteNumber:[{required:!0,message:"必填",trigger:"blur"}],openPositionAmount:[{required:!0,message:"必填",trigger:"blur"}]}}},methods:{upload1:function(e,t,r){console.log("response",e),console.log("response.data[0].url",e.data[0].url),this.form.imgUrl=e.data[0].url,console.log("form.imgUrl",this.form.imgUrl),this.$refs.imgUrl.handleRemove(t)},upload:function(e,t,r){console.log("response",e),this.form.imgUrl=e.data[0].url,console.log("form.imgUrl",this.form.imgUrl),this.$refs.imgUrl.handleRemove(t)},exceed:function(e,t){this.$message.error("单次只能选择1个文件进行上传！")},uploadCompressError:function(){this.$message.error("文件上传失败")},beforeUpload:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1),r="png"===t,i="jpg"===t,o=e.size/1024/1024<4;return r||i||this.$message({message:"上传文件只能是 png、jpg格式!",type:"error"}),o||this.$message({message:"上传文件大小不能超过 4MB!",type:"error"}),r&&o||i&&o},cancelSend:function(){this.isModify=!1,this.getList()},checkVal:function(e,t){t&&(this.form[e]=(this.form[e]+"").replace(/[^\d]/g,"")),this.form[e]<0&&(this.form[e]=0)},getList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.listLoading){e.next=2;break}return e.abrupt("return");case 2:return t={},this.listLoading=!0,e.next=6,n["a"].getAllTriggerConditionNew(t);case 6:r=e.sent,r&&(i=r.data.data[0],this.form={id:i.id,incomeAmount:i.incomeAmount,inviteNumber:i.inviteNumber,openPositionAmount:i.openPositionAmount,imgUrl:""}),this.listLoading=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmSend:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["form"].validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(r){var i,o,s,a,l,m,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=17;break}if(i=t.form,o=i.openPositionAmount,s=i.incomeAmount,a=i.inviteNumber,l=i.id,m={incomeAmount:parseFloat(s),inviteNumber:parseFloat(a),openPositionAmount:parseFloat(o)},l&&(m.id=l),t.confirmLoading=!0,l){e.next=11;break}return e.next=8,n["a"].addVoucherParameters(m);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,n["a"].editVoucherParameters(m);case 13:e.t0=e.sent;case 14:c=e.t0,c&&(u="",u=l?"修改成功！":"添加成功！",t.$message({message:u,type:"success"}),t.getList(),t.isModify=!1),t.confirmLoading=!1;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this.$util.getAuthority("Maintenance",[],[]);this.isCURDAuth=e.isModify,this.getList()}}),l=a,m=(r("9fff"),r("0c7c")),c=Object(m["a"])(l,i,o,!1,null,null,null);t["default"]=c.exports},"9fff":function(e,t,r){"use strict";var i=r("6f62"),o=r.n(i);o.a}}]);