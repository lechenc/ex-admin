(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dc97132"],{4417:function(e,i,t){"use strict";var r=t("f7d4"),n=t.n(r);n.a},eb2e:function(e,i,t){"use strict";t.r(i);var r=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"highFrequencyConfig-container"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"180px",size:"medium"}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"box-card-con"},[t("H5",[e._v("高频参数管理")]),e._v(" "),t("el-row",{attrs:{span:24}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"相同的注册IP人数达到: ",prop:"registerIpLimit"}},[t("el-input",{staticStyle:{width:"55%"},attrs:{type:"number",placeholder:"请输入",disabled:!e.isModify},on:{input:function(i){return e.checkVal("registerIpLimit")}},model:{value:e.form.registerIpLimit,callback:function(i){e.$set(e.form,"registerIpLimit",i)},expression:"form.registerIpLimit"}})],1)],1)],1),e._v(" "),t("el-row",{attrs:{span:24}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"相同的登录IP人数达到: ",prop:"loginIpLimit"}},[t("el-input",{staticStyle:{width:"55%"},attrs:{type:"number",placeholder:"请输入",disabled:!e.isModify},on:{input:function(i){return e.checkVal("loginIpLimit")}},model:{value:e.form.loginIpLimit,callback:function(i){e.$set(e.form,"loginIpLimit",i)},expression:"form.loginIpLimit"}})],1)],1)],1),e._v(" "),t("el-row",{attrs:{span:24}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"相同的设备号人数达到: ",prop:"registerDeviceLimit"}},[t("el-input",{staticStyle:{width:"55%"},attrs:{type:"number",placeholder:"请输入",disabled:!e.isModify},on:{input:function(i){return e.checkVal("registerDeviceLimit")}},model:{value:e.form.registerDeviceLimit,callback:function(i){e.$set(e.form,"registerDeviceLimit",i)},expression:"form.registerDeviceLimit"}})],1)],1)],1),e._v(" "),e.btnArr.includes("detailEdit")?t("div",[e.isModify?e._e():t("div",{staticClass:"middle"},[t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(i){e.isModify=!0}}},[e._v("编辑")])],1),e._v(" "),e.isModify?t("div",{staticClass:"middle"},[t("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:function(i){e.isModify=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"medium",loading:e.btnLoading},on:{click:e.confirmSend}},[e._v("提交修改")])],1):e._e()]):e._e()],1)])],1)],1)},n=[],s=(t("a481"),t("96cf"),t("3b8d")),a=t("4ec3"),o={name:"HighFrequencyConfig",data:function(){return{btnArr:[],btnLoading:!1,isModify:!1,listLoading:!1,labelWidth:"140px",isRegisterSwitch:!1,form:{registerIpLimit:"",loginIpLimit:"",registerDeviceLimit:""},rules:{registerIpLimit:[{required:!0,message:"必填",trigger:"blur"}],loginIpLimit:[{required:!0,message:"必填",trigger:"blur"}],registerDeviceLimit:[{required:!0,message:"必填",trigger:"blur"}]}}},methods:{getList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var i,t,r,n,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.listLoading){e.next=3;break}return e.abrupt("return");case 3:return i={},this.listLoading=!0,e.next=7,a["a"].apiGetRiskConfig(i);case 7:t=e.sent,t&&(r=t.data.data,n=r.registerIpLimit,s=r.loginIpLimit,o=r.registerDeviceLimit,c=r.id,this.form={registerIpLimit:n,loginIpLimit:s,registerDeviceLimit:o,id:c}),this.listLoading=!1,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log("error");case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));function i(){return e.apply(this,arguments)}return i}(),checkVal:function(e){this.form[e]=(this.form[e]+"").replace(/[^\d]/g,""),this.form[e]<0&&(this.form[e]=0)},confirmSend:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["form"].validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o,c,l,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return r=i.form,n=r.registerIpLimit,s=r.loginIpLimit,o=r.registerDeviceLimit,c=r.id,l={registerIpLimit:n,loginIpLimit:s,registerDeviceLimit:o,id:c},i.btnLoading=!0,e.next=6,a["a"].apiEditRiskConfig(l);case 6:m=e.sent,m&&(i.$message({message:"修改成功！",type:"success"}),i.getList(),i.isModify=!1),i.btnLoading=!1;case 9:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function i(){return e.apply(this,arguments)}return i}()},mounted:function(){var e=this.$util.getAuthority("RiskList",[],[]);this.btnArr=e.btnArr,this.getList()}},c=o,l=(t("4417"),t("0c7c")),m=Object(l["a"])(c,r,n,!1,null,null,null);i["default"]=m.exports},f7d4:function(e,i,t){}}]);