(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6388d5d2"],{"5cd4":function(e,t,a){"use strict";var r=a("7df0"),s=a.n(r);s.a},"64d1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-container"},[a("div",{staticClass:"container-top"},[a("Bsearch",{attrs:{configs:e.searchCofig},on:{"do-search":e.doSearch,"do-reset":e.doReset}})],1),e._v(" "),a("div",{staticClass:"container-btn"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.addAnalyst(0)}}},[e._v("添加分析师")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.addAnalyst(1)}}},[e._v("批量添加分析师")])],1),e._v(" "),a("div",[a("Btable",{attrs:{listLoading:e.listLoading,data:e.list,configs:e.configs},on:{"do-handle":e.doHandle}})],1),e._v(" "),a("div",{staticClass:"container-footer"},[a("icon-page",{attrs:{total:e.total,pages:e.pages}}),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":e.current_page,"page-size":e.pageSize,total:e.total},on:{"current-change":e.goPage}})],1),e._v(" "),a("el-Dialog",{staticClass:"notice-dialog",attrs:{visible:e.showDialog,title:e.title,width:"700px"},on:{"update:visible":function(t){e.showDialog=t}}},[a("el-form",{ref:"form",staticStyle:{width:"90%","padding-left":"15px"},attrs:{model:e.form,"label-width":"160px",rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"关联的实盘用户UID",prop:"relevanceUid"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入关联的实盘用户UID",disabled:e.disabledEdit},model:{value:e.form.relevanceUid,callback:function(t){e.$set(e.form,"relevanceUid",t)},expression:"form.relevanceUid"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"登录手机号",prop:"phone"}},[a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"请选择",width:"20%"},model:{value:e.form.phoneAreaCode,callback:function(t){e.$set(e.form,"phoneAreaCode",t)},expression:"form.phoneAreaCode"}},e._l(e.phoneAreaCodeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.phoneAreaCode,value:e.phoneAreaCode}})})),1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone","string"===typeof t?t.trim():t)},expression:"form.phone"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{staticClass:"my-form-item",attrs:{label:"登录邮箱",prop:"email"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email","string"===typeof t?t.trim():t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{staticClass:"my-form-item",attrs:{label:"登录密码",prop:"loginPassword"}},[a("el-input",{attrs:{size:"small",type:"password","auto-complete":"new-password",placeholder:"请输入"},model:{value:e.form.loginPassword,callback:function(t){e.$set(e.form,"loginPassword",t)},expression:"form.loginPassword"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"登录开关",prop:"loginSwitch"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.loginSwitch,callback:function(t){e.$set(e.form,"loginSwitch","string"===typeof t?t.trim():t)},expression:"form.loginSwitch"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"谷歌验证码",prop:"googleCode"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",type:"Number"},model:{value:e.form.googleCode,callback:function(t){e.$set(e.form,"googleCode","string"===typeof t?t.trim():t)},expression:"form.googleCode"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"comfirn-btn footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.btnLoading},on:{click:e.confirm}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(t){e.showDialog=!1}}},[e._v("取消")])],1)],1),e._v(" "),a("el-Dialog",{staticClass:"notice-dialog",attrs:{visible:e.dialogFlag,title:e.title,width:"700px",showClose:e.showClose},on:{"update:visible":function(t){e.dialogFlag=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogFlagLoad,expression:"dialogFlagLoad"}]},[a("el-form",{ref:"batchForm",staticStyle:{width:"90%","padding-left":"15px"},attrs:{model:e.batchForm,"label-width":"160px",rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"关联的实盘用户UID",prop:"relevanceUid"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入关联的实盘用户UID"},model:{value:e.batchForm.relevanceUid,callback:function(t){e.$set(e.batchForm,"relevanceUid",t)},expression:"batchForm.relevanceUid"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{staticClass:"my-form-item",attrs:{label:"邮箱区间",prop:"emailRange"}},[a("el-col",{attrs:{span:2}},[e._v(e._s(e.batchForm.mailPrefix))]),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.batchForm.mailMidStartNum,callback:function(t){e.$set(e.batchForm,"mailMidStartNum",t)},expression:"batchForm.mailMidStartNum"}})],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.batchForm.mailMidEndNum,callback:function(t){e.$set(e.batchForm,"mailMidEndNum",t)},expression:"batchForm.mailMidEndNum"}})],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.batchForm.mailPostfix,callback:function(t){e.$set(e.batchForm,"mailPostfix",t)},expression:"batchForm.mailPostfix"}},e._l(e.options,(function(e,t){return a("el-option",{key:"option"+t+e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{staticClass:"my-form-item",attrs:{label:"登录密码",prop:"loginPassword"}},[a("el-input",{attrs:{size:"small",type:"password",placeholder:"请输入"},model:{value:e.batchForm.loginPassword,callback:function(t){e.$set(e.batchForm,"loginPassword",t)},expression:"batchForm.loginPassword"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"登录开关",prop:"loginSwitch"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.batchForm.loginSwitch,callback:function(t){e.$set(e.batchForm,"loginSwitch","string"===typeof t?t.trim():t)},expression:"batchForm.loginSwitch"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"谷歌验证码",prop:"googleCode"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",type:"Number"},model:{value:e.batchForm.googleCode,callback:function(t){e.$set(e.batchForm,"googleCode","string"===typeof t?t.trim():t)},expression:"batchForm.googleCode"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"comfirn-btn footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.btnLoading},on:{click:e.createBatch}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(t){e.dialogFlag=!1}}},[e._v("取消")])],1)],1)])],1)},s=[],i=(a("a481"),a("ac6a"),a("5530")),o=(a("96cf"),a("1da1")),l=a("c249"),n=a("2fee"),c=a("f21b"),u=a("e8f8"),d=a("4ec3"),m=a("ca00"),h=a("70ac"),g=a.n(h),p={name:"AnalystMimicList",components:{Btable:n["a"],Bsearch:l["a"],iconPage:c["a"]},data:function(){var e=this,t=function(t,a,r){var s=+e.batchForm.mailMidStartNum,i=+e.batchForm.mailMidEndNum;isNaN(s)||isNaN(i)?r(new Error("请输入数字区间")):s>i?r(new Error("最大值超过最小值区间,请重新填写")):s===i?r(new Error("最小值必须小于最大值, 请重新填写")):r()};return{btnLoading:!1,showDialog:!1,title:"添加分析师",rules:{loginPassword:[{required:!0,message:"请输入",trigger:"blur"}],googleCode:[{required:!0,message:"请输入",trigger:"blur"}],emailRange:[{validator:t,trigger:"blur"}]},phoneAreaCodeList:[{label:86}],listLoading:!1,excelLoading:!1,list:[],dataList:[],configs:[],searchCofig:[],search_params_obj:{},current_page:1,pageSize:10,total:0,pages:0,toDay:"",ago:"",form:{loginSwitch:!1,uid:"",phone:"",phoneAreaCode:"",email:"",loginPassword:"",googleCode:"",userOtcStatus:!1,userTransferStatus:!1,userTradeStatus:!0,userWithdrawStatus:!1,relevanceUid:""},batchForm:{loginSwitch:!1,phone:"",phoneAreaCode:"",loginPassword:"",googleCode:"",relevanceUid:"",mailMidStartNum:"",mailMidEndNum:"",userOtcStatus:!1,userTransferStatus:!1,userTradeStatus:!0,userWithdrawStatus:!1,mailPrefix:"alpex",mailPostfix:"@gmail.com"},dialogFlag:!1,dialogFlagLoad:!1,showClose:!0,disabledEdit:!1,options:[{label:"@gmail.com",value:"@gmail.com"},{label:"@163.com",value:"@163.com"},{label:"@126.com",value:"@126.com"}]}},filters:{userType:function(e){}},watch:{showDialog:function(e){e?this.getCode():this.form={loginSwitch:!1,uid:"",phone:"",phoneAreaCode:"",email:"",loginPassword:"",googleCode:"",userOtcStatus:!1,userTransferStatus:!1,userTradeStatus:!0,userWithdrawStatus:!1}},dialogFlag:function(e){e?this.getCode():this.batchForm={loginSwitch:!1,phone:"",phoneAreaCode:"",loginPassword:"",googleCode:"",relevanceUid:"",mailMidStartNum:"",mailMidEndNum:"",userOtcStatus:!1,userTransferStatus:!1,userTradeStatus:!0,userWithdrawStatus:!1,mailPrefix:"alpex",mailPostfix:"@gmail.com"}}},methods:{confirm:function(){var e=this;this.$refs.form.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var r,s,o,l,n,c,u,m,h,g,p,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("valid: ",a),!a){t.next=19;break}if(r=e.form,r.phone,r.phoneAreaCode,r.email,r.loginPassword,s=r.googleCode,o=r.loginSwitch,l=r.uid,n=r.userOtcStatus,c=r.userTransferStatus,u=r.userTradeStatus,m=r.userWithdrawStatus,h=r.relevanceUid,g={googleCode:s,loginSwitch:o?0:1,userOtcStatus:+n,userTransferStatus:+c,userTradeStatus:+u,userWithdrawStatus:+m,relevanceUid:h},p=e.configValidate(e.form,g,!0),!p){t.next=17;break}if(!l){t.next=12;break}return t.next=9,d["a"].editAnalystMimicList(Object(i["a"])(Object(i["a"])({},p),{},{uid:l}));case 9:t.t0=t.sent,t.next=15;break;case 12:return t.next=14,d["a"].addAnalystMimicList(Object(i["a"])({},p));case 14:t.t0=t.sent;case 15:f=t.t0,f&&(l?e.$message.success({title:"提示",message:"编辑成功"}):e.$message.success({title:"提示",message:"添加成功"}),e.showDialog=!1,e.getList());case 17:t.next=20;break;case 19:e.$message.error({title:"提示",message:"请完成表单内容填写再重试"});case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},configValidate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.phone&&!e.email&&a)return this.$message.error({title:"提示",message:"请至少填写手机号和邮箱的一种"}),!1;if(e.phone){var r=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/,s=r.test(e.phone);if(!s)return this.$message.error("请输入正确手机号"),!1;t.phone=e.phone,t.phoneAreaCode=e.phoneAreaCode}if(e.email){var i=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/;if(!i.test(e.email))return this.$message.error("请输入正确邮箱"),fakse;t.email=e.email}return e.uid&&"********"===e.loginPasword||(t.loginPassword=g.a.md5(e.loginPassword)),t},createBatch:function(){var e=this;this.dialogFlagLoad||this.$refs.batchForm.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var r,s,o,l,n,c,u,m,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(a),!a){t.next=14;break}if(r=e.batchForm,s=r.userOtcStatus,o=r.userTransferStatus,l=r.userTradeStatus,n=r.userWithdrawStatus,c=r.loginSwitch,u=e.configValidate(e.batchForm),m=Object(i["a"])(Object(i["a"])(Object(i["a"])({},e.batchForm),u),{},{userOtcStatus:+s,userTransferStatus:+o,userTradeStatus:+l,userWithdrawStatus:+n,loginSwitch:+!c}),!u){t.next=14;break}return e.dialogFlagLoad=!0,e.showClose=!1,t.next=10,d["a"].batchAddAnalyst(m);case 10:h=t.sent,console.log("params: ",m),console.log("batchAddAnalyst: ",h),h?(e.$message.success({title:"提示",message:"添加成功"}),e.dialogFlagLoad=!1,e.dialogFlag=!1,e.showClose=!0,e.getList()):(e.dialogFlagLoad=!1,e.showClose=!0);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getCode:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].getCountryCode({});case 2:t=e.sent,this.phoneAreaCodeList=t.data.data,console.log(this.phoneAreaCode);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addAnalyst:function(e){this.title=(0===e?"":"批量")+"添加分析师",e?this.dialogFlag=!0:(this.showDialog=!0,this.disabledEdit=!1)},doHandle:function(e){var t=e.fn,a=e.row;if("detail"===t&&this.$router.push({path:"/contractMimic/analystMimic/analystMimicDetail",query:{uid:a.uid}}),"edit"===t){this.title="编辑分析师";var r=a.loginSwitch,s=a.uid,i=a.phone,o=a.email,l=(a.loginPassword,a.googleCode),n=a.relevanceUid,c=a.userOtcStatus,u=a.userTransferStatus,d=a.userTradeStatus,m=a.userWithdrawStatus;console.log("loginSwitch: ",r),this.form={loginSwitch:!r,uid:s,phone:i,phoneAreaCode:86,email:o,loginPassword:"********",googleCode:l,relevanceUid:n,userOtcStatus:Boolean(c),userTransferStatus:Boolean(u),userTradeStatus:Boolean(d),userWithdrawStatus:Boolean(m)},this.showDialog=!0,this.disabledEdit=!0,this.dialogFlag=!1}},doSearch:function(e){this.current_page=1,this.search_params_obj=e,this.search_params_obj.startTime||this.search_params_obj.endTime||(this.search_params_obj.flag=1),this.getList()},doReset:function(){this.search_params_obj={},this.searchCofig.forEach((function(e){e["value"]=""})),this.getList()},goPage:function(e){this.current_page=e,this.getList()},exportExcel:function(e){this.search_params_obj=e.query;var t=e.num;m["a"].exportData.apply(this,[t])},getList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.listLoading){e.next=2;break}return e.abrupt("return");case 2:return t={pageNum:this.current_page,pageSize:this.pageSize},Object.assign(t,this.search_params_obj),this.listLoading=!0,e.next=7,d["a"].getAnalystMimicList(t);case 7:a=e.sent,a&&(r=a.data.data,s=r.records,i=r.total,o=r.pages,l=r.current,this.total=+i,this.pages=+o,this.current_page=l,this.list=s,this.dataList=s),this.listLoading=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),queryData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.excelLoading=!0,this.requiredParams(t),Object.assign(t,this.search_params_obj),e.next=5,d["a"].getUserList(t);case 5:return a=e.sent,this.excelLoading=!1,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),requiredParams:function(e){if(this.$util.isEmptyObject(this.search_params_obj)){var t=this.$util.dateFormat(this.ago,"YYYY/MM/DD HH:mm:ss"),a=this.$util.dateFormat(this.toDay,"YYYY/MM/DD HH:mm:ss");this.searchCofig[0].value=[t,a],e.endTime=a.replace(/\//gi,"-"),e.startTime=t.replace(/\//gi,"-")}this.search_params_obj.startTime&&(this.search_params_obj.endTime=this.formatTime(this.search_params_obj.endTime),this.search_params_obj.startTime=this.formatTime(this.search_params_obj.startTime))},formatTime:function(e){return~(e+"").indexOf("-")?e:e.replace(/\//gi,"-")}},mounted:function(){var e=this.$util.getAuthority("AnalystMimicList",u["d"],u["e"]);console.log("analystMimicListColNoBtn: ",u["e"]),console.log("analystMimicListCol: ",u["d"]),this.configs=e.val,this.toDay=this.$util.diyTime("toDay"),this.ago=this.$util.diyTime("ago"),this.searchCofig=this.$util.clone(u["f"]),this.getList()}},f=p,b=(a("5cd4"),a("2877")),v=Object(b["a"])(f,r,s,!1,null,null,null);t["default"]=v.exports},"7df0":function(e,t,a){}}]);