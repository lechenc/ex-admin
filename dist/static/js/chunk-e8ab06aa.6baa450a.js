(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8ab06aa"],{"34da":function(t,e,a){"use strict";a("ac6a");e["a"]={methods:{isInTags:function(){return this.$route.path==this.$store.state.app.tagsActivePath&&(this.$store.commit("app/setTagsActivePath",""),!0)},reloadTagsPage:function(t){var e=-1,a=this.$store.state.app.tagsList;a.forEach((function(a,i){a.path==t&&(e=i)})),e>=0&&a.splice(e,1)}}}},"736c":function(t,e,a){"use strict";var i=a("da21"),s=a.n(i);s.a},a128:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"advertiseRecordDetail-container"},[a("el-row",{staticClass:"sac-row"},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{size:"medium",type:"primary",plain:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")])],1)],1),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"box-card-con"},[a("H3",[t._v("广告基本信息")]),t._v(" "),a("div",[a("Btable",{attrs:{listLoading:t.infoLoading,data:t.infoList,configs:t.infoConfigs},on:{"do-handle":t.doInfoHandle}})],1)],1)]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"box-card-con"},[a("H3",[t._v("广告成交信息")]),t._v(" "),a("div",[a("Btable",{attrs:{listLoading:t.dealLoading,data:t.dealList,configs:t.dealConfigs}})],1),t._v(" "),a("div",[a("div",{staticClass:"container-footer"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":t.current_page,"page-size":t.pageSize,total:t.total},on:{"current-change":t.goPageDeal}})],1)])],1)])],1)},s=[],n=(a("96cf"),a("3b8d")),r=a("2fee"),o=a("f556"),c=a("4ec3"),d=a("34da"),l={name:"AdvertiseRecordDetail",components:{Btable:r["a"]},mixins:[d["a"]],data:function(){return{advId:0,infoLoading:!1,dealLoading:!1,infoList:[],dealList:[],infoConfigs:[],dealConfigs:[],current_page:1,pageSize:10,total:0,pages:0}},methods:{doInfoHandle:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,i,s,n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.fn,i=e.row,this.row=i,"switchAd"!==a){t.next=8;break}return s={isOnshelf:i.isOnshelf?1:0,id:i.id},t.next=6,c["a"].changeOnshelfAdsNew(s);case 6:n=t.sent,n?this.$message({message:"操作成功",type:"success"}):(r=this.$route.query.row,o=JSON.parse(JSON.stringify(r)),this.infoList=[],o&&(this.infoList.push(o),this.infoLoading=!1));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),goPageDeal:function(t){this.current_page=t,this.getDealDetail()},getDealDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.dealLoading){t.next=2;break}return t.abrupt("return");case 2:return e={id:this.advId,pageNum:this.current_page,pageSize:this.pageSize},this.dealLoading=!0,t.next=6,c["a"].queryAdvTradeListDetail(e);case 6:a=t.sent,a&&(i=a.data.data,s=i.records,n=i.total,r=i.current,o=i.pages,this.total=+n,this.pages=+o,this.current_page=r,this.dealList=s,this.dealLoading=!1);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),formatTime:function(t){return~(t+"").indexOf("-")?t:this.$util.dateFormat(t,"YYYY-MM-DD hh:mm:ss")}},activated:function(){if(!this.isInTags()){this.infoList=[],this.dealList=[],this.infoConfigs=[],this.dealConfigs=[],this.current_page=1,this.pageSize=10,this.total=0,this.pages=0,this.infoConfigs=o["p"],this.dealConfigs=o["o"];var t=JSON.parse(localStorage.getItem("advertiseRecord")),e=JSON.parse(JSON.stringify(t));e&&(this.infoList.push(e),this.infoLoading=!1),this.advId=this.$route.query.id,this.getDealDetail()}},deactivated:function(){localStorage.removeItem("advertiseRecord")}},u=l,g=(a("736c"),a("0c7c")),h=Object(g["a"])(u,i,s,!1,null,null,null);e["default"]=h.exports},da21:function(t,e,a){}}]);