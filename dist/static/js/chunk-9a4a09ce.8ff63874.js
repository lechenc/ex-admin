(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a4a09ce"],{"745b":function(e,t,r){"use strict";var n=r("9935"),i=r.n(n);i.a},9935:function(e,t,r){},ea11:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"marketApiSort-container"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"200px",size:"medium"}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"box-card-con"},[r("h2",[e._v("行情接口排序设置")]),e._v(" "),r("h4",[e._v("基础设置")]),e._v(" "),r("el-row",{attrs:{span:24}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"单位时间内（s）:  ",prop:"second"}},[r("el-input",{staticStyle:{width:"55%"},attrs:{type:"number",placeholder:"请输入",disabled:!e.isModify},on:{input:function(t){return e.checkVal("form","second")}},model:{value:e.form.second,callback:function(t){e.$set(e.form,"second",t)},expression:"form.second"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{span:24}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"请求接口失败（次）:  ",prop:"count"}},[r("el-input",{staticStyle:{width:"55%"},attrs:{type:"number",placeholder:"请输入",disabled:!e.isModify},on:{input:function(t){return e.checkVal("form","second")}},model:{value:e.form.count,callback:function(t){e.$set(e.form,"count",t)},expression:"form.count"}})],1)],1)],1),e._v(" "),r("h4",[e._v("排序设置")]),e._v(" "),r("div",{staticClass:"marketApiSort-table"},[r("el-table",{staticClass:"table-container",attrs:{data:e.form.robotMarkets,border:"",size:"small"}},[r("el-table-column",{attrs:{prop:"name",label:"接口名称",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"enable",label:"是否正在启用",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949",disabled:!e.isModify},model:{value:t.row.enable,callback:function(r){e.$set(t.row,"enable",r)},expression:"scope.row.enable"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"date",label:"操作",fixed:"right",width:"280",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index?r("el-button",{attrs:{disabled:!e.isModify,size:"small",type:"primary"},on:{click:function(r){return e.moveUp(t.row,t.$index)}}},[e._v("\n                  上移\n                ")]):e._e(),e._v(" "),t.$index+1!=e.form.robotMarkets.length?r("el-button",{attrs:{disabled:!e.isModify,size:"small",type:"primary"},on:{click:function(r){return e.moveDown(t.row,t.$index)}}},[e._v("\n                  下移\n                ")]):e._e()]}}])})],1)],1),e._v(" "),r("el-row",{attrs:{span:24}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"自动切换平台后，提醒手机号设置栏: ",prop:"phone"}},[r("el-input",{attrs:{type:"textarea",disabled:!e.isModify,maxlength:"1200",rows:"4\n              ",placeholder:"每个号码之间使用英文逗号进行隔开，最多可填100个手机号"},on:{input:function(t){return e.checkValPhone("form","phone")}},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1)],1),e._v(" "),e.btnArr.includes("edit")?r("div",[e.isModify?e._e():r("div",{staticClass:"middle"},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.isModify=!0}}},[e._v("编辑")])],1),e._v(" "),e.isModify?r("div",{staticClass:"middle"},[r("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:e.cancelSend}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"medium",loading:e.btnLoading},on:{click:e.confirmSend}},[e._v("提交修改")])],1):e._e()]):e._e()],1)])],1)],1)},i=[],a=(r("a481"),r("ac6a"),r("96cf"),r("3b8d")),o=r("4ec3"),s={name:"MarketApiSort",data:function(){return{btnArr:[],btnLoading:!1,isModify:!1,listLoading:!1,labelWidth:"140px",isRegisterSwitch:!1,coinId:1,form:{phone:"",count:"",second:"",robotMarkets:[],createTime:"",id:"",updateTime:"",usingMarket:""},symbollist:[{label:"BTC",value:1}],rules:{second:[{required:!0,message:"必填",trigger:"blur"}],count:[{required:!0,message:"必填",trigger:"blur"}],phone:[{required:!0,message:"必填",trigger:"blur"}]}}},methods:{moveDown:function(e,t){var r=e;this.form.robotMarkets.splice(t,1),this.form.robotMarkets.splice(t+1,0,r)},moveUp:function(e,t){var r=e;this.form.robotMarkets.splice(t,1),this.form.robotMarkets.splice(t-1,0,r)},cancelSend:function(){this.isModify=!1,this.getList()},getList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,n,i,a,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.listLoading){e.next=3;break}return e.abrupt("return");case 3:return t={},this.listLoading=!0,e.next=7,o["a"].apiGetMarketApiSortInfo(t);case 7:r=e.sent,r&&(n=r.data.data,i=n.phone,a=n.count,s=n.second,c=n.robotMarkets,l=n.createTime,u=n.id,d=n.updateTime,p=n.usingMarket,c.forEach((function(e){e.enable=1==e.enable})),this.form={phone:i,count:a,second:s,robotMarkets:c,createTime:l,id:u,updateTime:d,usingMarket:p}),this.listLoading=!1,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log("error");case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}(),checkVal:function(e,t){this[e][t]=(this[e][t]+"").replace(/[^\d]/g,""),this[e][t]<0&&(this[e][t]=0)},checkValPhone:function(e,t){this[e][t]=(this[e][t]+"").replace(/[^\d,]/g,"")},confirmSend:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["form"].validate(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var n,i,a,s,c,l,u,d,p,m,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=10;break}return n=t.form,i=n.phone,a=n.count,s=n.second,c=n.robotMarkets,l=n.createTime,u=n.id,d=n.updateTime,p=n.usingMarket,c.forEach((function(e,t){e.enable=e.enable?1:0,e.sort=t+1})),m={phone:i,count:a,second:s,robotMarkets:c,createTime:l,id:u,updateTime:d,usingMarket:p},t.btnLoading=!0,e.next=7,o["a"].apiEditMarketApiSortInfo(m);case 7:f=e.sent,f&&(t.$message({message:"修改成功！",type:"success"}),t.getList(),t.isModify=!1),t.btnLoading=!1;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this.$util.getAuthority("MarketApiSort",[],[]);this.btnArr=e.btnArr||[],this.getList()}},c=s,l=(r("745b"),r("0c7c")),u=Object(l["a"])(c,n,i,!1,null,null,null);t["default"]=u.exports}}]);