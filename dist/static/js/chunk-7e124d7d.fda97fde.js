(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e124d7d"],{"4c75":function(t,e,a){"use strict";var i=a("a74e"),r=a.n(i);r.a},a74e:function(t,e,a){},bf15:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"springFestivalOverview-container"},[a("div",{staticClass:"container-btn"},[a("div",{staticClass:"btn-left"},[~t.btnArr.indexOf("edit")?a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.editFn}},[t._v("修改前端202200数据")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.totalFn}},[t._v("合计统计")])],1),t._v(" "),a("div",{staticClass:"btn-right"},[a("el-button",{attrs:{type:"primary"},on:{click:t.getList}},[t._v("刷新")])],1)]),t._v(" "),a("el-card",[a("el-row",{staticClass:"box-card-row",attrs:{span:24}},[a("el-col",{attrs:{span:3}},[t._v("盲盒价值/盲盒名称")]),t._v(" "),t._l(t.boxTypeList,(function(e,i){return a("el-col",{key:i,attrs:{span:4}},[a("span",[t._v("库存量/已发量/已开量")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(e.label))])])}))],2),t._v(" "),t._l(t.list,(function(e,i){return a("el-row",{key:i,staticClass:"box-card-row",attrs:{span:24}},[e.length?a("el-col",{attrs:{span:3}},[t._v("\n        "+t._s(e[0]["usdtnum"]+"U")+"\n      ")]):a("el-col",{attrs:{span:3}},[t._v(" 0 ")]),t._v(" "),t._l(t.boxTypeList,(function(i,r){return a("el-col",{key:r,attrs:{span:4}},t._l(e,(function(e,r){return a("span",{key:r},[e.boxType==i.value?[a("div",[a("span",[t._v(t._s(e.inventory+" ~"))]),t._v(" "),a("span",[t._v(t._s(e.issueNum+" ~"))]),t._v(" "),a("span",[t._v(t._s(e.openNum))])]),t._v(" "),a("div",[a("span",[t._v(t._s(e.inventorySymbolNum+" ~"))]),t._v(" "),a("span",[t._v(t._s(e.issueSymbolNum+" ~"))]),t._v(" "),a("span",[t._v(t._s(e.openSymbolNum))])])]:t._e()],2)})),0)}))],2)}))],2),t._v(" "),a("el-dialog",{attrs:{title:"修改前端202200数据",width:"650px",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"cForm",attrs:{model:t.cForm,rules:t.rules}},[a("el-row",{attrs:{span:24}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"总量：","label-width":t.formLabelWidth}},[t._v("\n            "+t._s(t.totalNum)+"\n          ")])],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"自动已发：","label-width":t.formLabelWidth}},[t._v("\n            "+t._s(t.getBoxNumObj.price)+"\n          ")])],1)],1),t._v(" "),a("el-row",{attrs:{span:24}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"剩余：","label-width":t.formLabelWidth}},[t._v("\n            "+t._s(t.getBoxNumObj.balance)+"\n          ")])],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"手动累计增加数量：","label-width":"140px"}},[t._v("\n            "+t._s(t.getBoxNumObj.handPrice)+"\n          ")])],1)],1),t._v(" "),a("el-row",{attrs:{span:24}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"手动增加数量：","label-width":t.formLabelWidth,prop:"totalNum"}},[a("el-input",{attrs:{type:"number",autocomplete:"off",placeholder:"请输入数量"},on:{input:function(e){return t.checkVal("totalNum")}},model:{value:t.cForm.totalNum,callback:function(e){t.$set(t.cForm,"totalNum",e)},expression:"cForm.totalNum"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:t.confirmOp}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{},attrs:{title:"合计统计",width:"800px",visible:t.totalDialogFormVisible},on:{"update:visible":function(e){t.totalDialogFormVisible=e}}},t._l(t.totalObj,(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"20px"}},[a("el-row",{staticStyle:{"font-weight":"700"},attrs:{span:24}},[t._v("\n        "+t._s(t.totalUserTypeObj[e.type]+":")+" "+t._s(e.total+"U")+"\n      ")]),t._v(" "),a("el-row",{staticStyle:{color:"green","font-weight":"700"},attrs:{span:24}},t._l(e.statistic,(function(e,i){return a("el-col",{key:i,attrs:{span:8}},[t._v("\n          "+t._s(t.totalBoxTypeObj[e.type]+":")+" "+t._s(e.num+"个")+"\n        ")])})),1)],1)})),0)],1)},r=[],s=(a("a481"),a("ac6a"),a("96cf"),a("3b8d")),n=a("c249"),o=a("2fee"),l=a("f21b"),c=a("2ab6"),u=a("4ec3"),m=a("ff53"),p={name:"springFestivalOverview",components:{Btable:o["a"],Bsearch:n["a"],iconPage:l["a"]},data:function(){return{dialogTableVisible:!1,listLoading:!1,calLoading:!1,list:[],configs:[],searchCofig:[],search_params_obj:{},current_page:1,pageSize:10,total:0,pages:0,symbollist:[],toDay:"",ago:"",excelLoading:!1,btnArr:[],dialogFormVisible:!1,cForm:{},rules:{totalNum:[{required:!0,message:"必填",trigger:"blur"}]},formLabelWidth:"130px",btnLoading:!1,dataList:[],totalNum:202200,getBoxNumObj:{},totalObj:{},totalUserTypeObj:{1:"用户总计获得盲盒数量",2:"用户总计获得盲盒价值",3:"用户总计开启盲盒数量",4:"用户总计开启盲盒价值",5:"库存总计盲盒数量",6:"库存总计盲盒价值"},totalBoxTypeObj:{0:"邀请新充值盲盒(AXS)",1:"邀请交易盲盒(MANA)",2:"充值盲盒( USDT)",3:"幸运盲盒( EPIK)",4:"交易盲盒(SAND)",5:"惊喜盲盒"},totalDialogFormVisible:!1,boxTypeList:[{label:"邀新充值盲盒数量个（AXS枚）",value:0,index:0},{label:"邀新交易盲盒（MANA枚）",value:1,index:1},{label:"充值盲盒（USDT枚）",value:2,index:2},{label:"交易盲盒（EPIK枚）",value:4,index:3},{label:"幸运盲盒(SAND枚)",value:3,index:4}]}},methods:{getSpringFestivalOverviewTotal:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].apiGetSpringFestivalOverviewTotal({});case 2:e=t.sent,e&&(this.totalObj=e.data.data);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),totalFn:function(){this.totalDialogFormVisible=!0,this.getSpringFestivalOverviewTotal()},checkVal:function(t){this.cForm[t]<0&&(this.cForm[t]=0)},confirmOp:function(){var t=this;this.$refs["cForm"].validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){var i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=13;break}if(i=t.cForm.totalNum,!(parseFloat(i)>parseFloat(t.getBoxNumObj.balance))){e.next=4;break}return e.abrupt("return",t.$message.error("剩余数量不足"));case 4:if(!t.btnLoading){e.next=6;break}return e.abrupt("return");case 6:return t.btnLoading=!0,r={totalNum:i},e.next=10,u["a"].apieditSpringFestivalOverview(r);case 10:s=e.sent,s&&(t.$message({message:s.data.message,type:"success"}),t.dialogFormVisible=!1,t.getList()),t.btnLoading=!1;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getSpringFestivalGetBoxNum:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].apiGetSpringFestivalGetBoxNum({});case 2:e=t.sent,e&&(a=e.data.data,i=a.handPrice,r=a.price,this.getBoxNumObj={handPrice:i,price:r,balance:m["a"].minus(this.totalNum,m["a"].plus(i,r))});case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editFn:function(){var t=this;this.dialogFormVisible=!0,this.getSpringFestivalGetBoxNum(),this.$nextTick((function(){t.$refs["cForm"].resetFields(),t.cForm={totalNum:""}}))},doHandle:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fn,e.row;case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),doSearch:function(t){this.current_page=1,this.search_params_obj=t,this.getList()},doReset:function(){this.search_params_obj={},this.searchCofig.forEach((function(t){t["value"]=""})),this.getList()},pageSizeChange:function(t){this.current_page=1,this.pageSize=t,this.getList()},goPage:function(t){this.current_page=t,this.getList()},getList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.listLoading){t.next=2;break}return t.abrupt("return");case 2:return e={},this.listLoading=!0,t.next=6,u["a"].apiGetSpringFestivalOverviewList(e);case 6:a=t.sent,a&&(i=a.data.data,console.log("list",i),this.list=i),this.listLoading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),requiredParams:function(t){var e=this;if(this.$util.isEmptyObject(this.search_params_obj)){var a=this.$util.dateFormat(this.ago,"YYYY/MM/DD HH:mm:ss"),i=this.$util.dateFormat(this.toDay,"YYYY/MM/DD HH:mm:ss");t.arrivalEndTime=i.replace(/\//gi,"-"),t.arrivalStartTime=a.replace(/\//gi,"-"),this.searchCofig[0].value=[a,i]}if(this.search_params_obj.createTimeS&&(this.search_params_obj.createTimeE=this.formatTime(this.search_params_obj.createTimeE),this.search_params_obj.createTimeS=this.formatTime(this.search_params_obj.createTimeS)),this.search_params_obj.coinMarket&&/^[0-9]+.?[0-9]*$/.test(this.search_params_obj.coinMarket)){var r="";r=this.symbollist.filter((function(t){return t["id"]==e.search_params_obj.coinId}))[0].value,this.search_params_obj.coinMarket=r}},formatTime:function(t){return~(t+"").indexOf("-")?t:t.replace(/\//gi,"-")}},mounted:function(){var t=this.$util.getAuthority("SpringFestivalOverview",c["H"],[]);this.btnArr=t.btnArr||[],this.configs=c["H"],this.toDay=this.$util.diyTime("toDay"),this.ago=this.$util.diyTime("ago"),this.getList()}},v=p,b=(a("4c75"),a("0c7c")),h=Object(b["a"])(v,i,r,!1,null,null,null);e["default"]=h.exports}}]);