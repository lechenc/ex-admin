(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-280752a3"],{"30f8":function(e,t,i){"use strict";var n=i("bf5e"),a=i.n(n);a.a},"32a6":function(e,t,i){var n=i("241e"),a=i("c3a1");i("ce7e")("keys",(function(){return function(e){return a(n(e))}}))},"4abe":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"otcGlobal-container"},[e._m(0),e._v(" "),e.isCURDAuth?i("div",{staticClass:"container-btn"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.addOtc}},[e._v("添加")])],1):e._e(),e._v(" "),i("div",[i("Btable",{attrs:{listLoading:e.listLoading,data:e.list,configs:e.configs},on:{"do-handle":e.doHandle}})],1),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVisible,width:"800px",title:e.title},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[i("div",{staticClass:"box-card-con"},[i("el-form-item",{attrs:{label:"币种","label-width":e.labelWidth,prop:"coinId"}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"medium",disabled:!e.isAddStatus},model:{value:e.form.coinId,callback:function(t){e.$set(e.form,"coinId",t)},expression:"form.coinId"}},e._l(e.coinList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"币种排序","label-width":e.labelWidth,prop:"position"}},[i("el-input",{staticStyle:{width:"340px"},attrs:{type:"number",placeholder:"请输入"},on:{input:function(t){return e.checkValInteger("position")}},model:{value:e.form.position,callback:function(t){e.$set(e.form,"position",t)},expression:"form.position"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"小数位","label-width":e.labelWidth,prop:"decimalPlaces"}},[i("el-col",{attrs:{span:12}},[i("el-input",{attrs:{type:"number",size:"medium",placeholder:"请输入"},on:{input:function(t){return e.checkValInteger("decimalPlaces")}},model:{value:e.form.decimalPlaces,callback:function(t){e.$set(e.form,"decimalPlaces",t)},expression:"form.decimalPlaces"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"放行时间（分钟）","label-width":e.labelWidth,prop:"releaseTime"}},[i("el-col",{attrs:{span:12}},[i("el-input",{attrs:{type:"number",size:"medium",placeholder:"请输入"},on:{input:function(t){return e.checkValInteger("releaseTime")}},model:{value:e.form.releaseTime,callback:function(t){e.$set(e.form,"releaseTime",t)},expression:"form.releaseTime"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"订单日取消数量上限","label-width":e.labelWidth,prop:"dailyCancellationQuantity"}},[i("el-col",{attrs:{span:12}},[i("el-input",{attrs:{type:"number",size:"medium",placeholder:"请输入"},on:{input:function(t){return e.checkValInteger("dailyCancellationQuantity")}},model:{value:e.form.dailyCancellationQuantity,callback:function(t){e.$set(e.form,"dailyCancellationQuantity",t)},expression:"form.dailyCancellationQuantity"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"广告费率","label-width":e.labelWidth,prop:"fee"}},[i("el-col",{attrs:{span:12}},[i("el-input",{attrs:{disabled:"",type:"text",size:"medium",placeholder:"请输入"},on:{input:function(t){return e.checkValPercent("fee")}},model:{value:e.form.fee,callback:function(t){e.$set(e.form,"fee",t)},expression:"form.fee"}},[i("div",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"单笔交易限额","label-width":e.labelWidth,required:!0}},[i("el-col",{attrs:{span:10}},[i("el-input",{attrs:{type:"text",size:"medium",placeholder:"请输入"},on:{input:function(t){return e.checkVal("singleMinAmount")}},model:{value:e.form.singleMinAmount,callback:function(t){e.$set(e.form,"singleMinAmount",t)},expression:"form.singleMinAmount"}},[i("div",{attrs:{slot:"append"},slot:"append"},[e._v("CNY")])])],1),e._v(" "),i("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[e._v("\n            ~\n          ")]),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-input",{attrs:{type:"text",size:"medium",placeholder:"请输入"},on:{input:function(t){return e.checkVal("singleMaxAmount")}},model:{value:e.form.singleMaxAmount,callback:function(t){e.$set(e.form,"singleMaxAmount",t)},expression:"form.singleMaxAmount"}},[i("div",{attrs:{slot:"append"},slot:"append"},[e._v("CNY")])])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"订单付款时间","label-width":e.labelWidth,prop:"payTimeout"}},[i("el-input",{staticStyle:{width:"340px"},attrs:{type:"number",placeholder:"请输入分钟数"},on:{input:function(t){return e.checkVal("payTimeout")}},model:{value:e.form.payTimeout,callback:function(t){e.$set(e.form,"payTimeout",t)},expression:"form.payTimeout"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"保证金数量","label-width":e.labelWidth,prop:"depositAmount"}},[i("el-input",{staticStyle:{width:"340px"},attrs:{type:"number",placeholder:"请输入"},on:{input:function(t){return e.checkVal("depositAmount")}},model:{value:e.form.depositAmount,callback:function(t){e.$set(e.form,"depositAmount",t)},expression:"form.depositAmount"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"保证金退还天数","label-width":e.labelWidth,prop:"depositDay"}},[i("el-input",{staticStyle:{width:"340px"},attrs:{type:"number",placeholder:"请输入"},on:{input:function(t){return e.checkValInteger("depositDay")}},model:{value:e.form.depositDay,callback:function(t){e.$set(e.form,"depositDay",t)},expression:"form.depositDay"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否启用保证金","label-width":e.labelWidth,prop:"isOtcDeposit"}},[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.isOtcDeposit,callback:function(t){e.$set(e.form,"isOtcDeposit",t)},expression:"form.isOtcDeposit"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否启用法币交易","label-width":e.labelWidth,prop:"isOtc"}},[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.isOtc,callback:function(t){e.$set(e.form,"isOtc",t)},expression:"form.isOtc"}})],1)],1)]),e._v(" "),i("div",{staticClass:"inner-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){t.stopPropagation(),e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.confirmDialog(t)}}},[e._v("确定")])],1)],1)],1)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-top"},[i("div",{staticClass:"line"},[e._v("OTC币种参数设置 "),i("span",[e._v("在币种设置界面开启可法币交易，即可在此页面显示对应币种")])])])}],r=(i("8e6e"),i("456d"),i("ac6a"),i("bd86")),o=i("a8db"),s=(i("a481"),i("96cf"),i("3b8d")),l=i("c249"),c=i("2fee"),u=i("f556"),p=i("4ec3");i("ca00");function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){Object(r["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f={name:"FiatOtcGlobal",components:{Btable:c["a"],Bsearch:l["a"]},data:function(){return{isCURDAuth:!0,listLoading:!1,list:[],configs:[],searchCofig:[],search_params_obj:{},current_page:1,pageSize:10,total:0,pages:0,coinList:[],dialogVisible:!1,labelWidth:"150px",isAddStatus:!1,title:"OTC币种参数设置",form:{coinId:"",position:"",fee:0,singleMinAmount:"",singleMaxAmount:"",payTimeout:"",depositAmount:"",depositDay:"",isOtc:"",isOtcDeposit:"",decimalPlaces:"",releaseTime:"",dailyCancellationQuantity:""},rules:{coinId:[{required:!0,message:"必填",trigger:"blur"}],position:[{required:!0,message:"必填",trigger:"blur"}],decimalPlaces:[{required:!0,message:"必填",trigger:"blur"}],fee:[{required:!0,message:"必填",trigger:"blur"}],singleMinAmount:[{required:!0,message:"必填",trigger:"blur"}],singleMaxAmount:[{required:!0,message:"必填",trigger:"blur"}],payTimeout:[{required:!0,message:"必填",trigger:"blur"}],depositAmount:[{required:!0,message:"必填",trigger:"blur"}],depositDay:[{required:!0,message:"必填",trigger:"blur"}],releaseTime:[{required:!0,message:"必填",trigger:"blur"}],dailyCancellationQuantity:[{required:!0,message:"必填",trigger:"blur"}]}}},methods:{doHandle:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var i,n,a,r,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.fn,n=t.row,this.row=n,"edit"===i&&(this.isAddStatus=!1,this.title="OTC币种参数编辑",this.dialogVisible=!0,this.$nextTick((function(){var e=n.releaseTime,t=n.dailyCancellationQuantity,i=n.coinId,a=n.position,r=n.fee,s=n.decimalPlaces,l=n.singleMinAmount,c=n.singleMaxAmount,u=n.payTimeout,p=n.depositAmount,m=n.depositDay,d=n.isOtc,f=n.isOtcDeposit;o.form={coinId:i,position:a,decimalPlaces:s,fee:(r+"").replace(/\%/,""),singleMinAmount:l,singleMaxAmount:c,payTimeout:u,depositAmount:p,depositDay:m,isOtc:d,isOtcDeposit:f,releaseTime:e,dailyCancellationQuantity:t},o.$refs["form"].resetFields()}))),"trstart"!==i&&"trputon"!==i&&"trdraw"!==i){e.next=12;break}return a={coinId:this.row.coinId},"trstart"===i&&(a.isOtc=this.row.isOtc?1:0),"trputon"===i&&(a.isOtcDeposit=this.row.isOtcDeposit?1:0),"trdraw"===i&&(a.isTp=this.row.isTp?1:0),e.next=10,p["a"].otcCoinGlobalSetNew(a);case 10:r=e.sent,r&&(this.$message({message:"切换成功",type:"success"}),this.getList());case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),confirmDialog:function(){var e=this;this.$refs["form"].validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(i){var n,a,r,s,l,c,u,m,f,b,h,g,y,v,O,x,A,w,k;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i){t.next=22;break}if(n=e.form,a=n.coinId,r=n.isOtc,s=n.isOtcDeposit,l=n.singleMinAmount,c=n.singleMaxAmount,u=n.payTimeout,m=n.depositAmount,f=n.depositDay,b=n.position,h=n.decimalPlaces,g=n.fee,y=n.releaseTime,v=n.dailyCancellationQuantity,O=Object(o["a"])(n,["coinId","isOtc","isOtcDeposit","singleMinAmount","singleMaxAmount","payTimeout","depositAmount","depositDay","position","decimalPlaces","fee","releaseTime","dailyCancellationQuantity"]),x=d({coinId:a,isOtc:r?1:0,isOtcDeposit:s?1:0,position:+b,decimalPlaces:+h,singleMinAmount:+l,singleMaxAmount:+c,payTimeout:+u,depositAmount:+m,depositDay:+f,fee:(g+"").replace(/\%/,""),releaseTime:y,dailyCancellationQuantity:v},O),!e.isAddStatus){t.next=11;break}if(A=e.coinList.filter((function(e){return e.value===a})),!A.length){t.next=9;break}x.coinName=A[0].label,t.next=11;break;case 9:return e.$message({message:"币种查找失败",type:"error"}),t.abrupt("return");case 11:if(!e.isAddStatus){t.next=17;break}return t.next=14,p["a"].setoOtcAddPay(x);case 14:t.t0=t.sent,t.next=20;break;case 17:return t.next=19,p["a"].otcCoinGlobalSetNew(x);case 19:t.t0=t.sent;case 20:w=t.t0,w&&(k=e.isAddStatus?"新增成功":"编辑成功",e.$message({message:k,type:"success"}),e.dialogVisible=!1,e.getList());case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},addOtc:function(){var e=this;this.isAddStatus=!0,this.dialogVisible=!0,this.title="OTC币种参数添加",this.$nextTick((function(){e.$refs["form"].resetFields(),e.form={coinId:"",position:"",decimalPlaces:"",fee:0,singleMinAmount:"",singleMaxAmount:"",payTimeout:"",depositAmount:"",depositDay:"",isOtc:!1,isOtcDeposit:!1,releaseTime:"",dailyCancellationQuantity:""}}))},pageSizeChange:function(e){this.current_page=1,this.pageSize=e,this.getList()},goPage:function(e){this.current_page=e,this.getList()},checkValInteger:function(e){this.form[e]<0&&(this.form[e]=0),this.form[e]=(this.form[e]+"").replace(/[^\d]/g,"")},checkValPercent:function(e){this.form[e]&&~this.form[e].indexOf("%")&&(this.form[e]=(this.form[e]+"").replace(/\%/,"")),this.form[e]<0&&(this.form[e]=0)},checkVal:function(e){this.form[e]=(this.form[e]+"").replace(/^(\-)*(\d+)\.(\d\d\d\d).*$/,"$1$2.$3"),this.form[e]<0&&(this.form[e]=0)},getList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.listLoading){e.next=2;break}return e.abrupt("return");case 2:return t={pageNum:this.current_page,pageSize:this.pageSize},Object.assign(t,this.search_params_obj),this.listLoading=!0,e.next=7,p["a"].otcCoinGlobalSetListNew(t);case 7:i=e.sent,i&&(n=i.data.data&&i.data.data.records||[],n&&n.length>0&&n.forEach((function(e){e["isOtc"]=0!=e["isOtc"],e["isOtcDeposit"]=0!=e["isOtcDeposit"],e["isTp"]=0!=e["isTp"]})),this.list=n,this.listLoading=!1);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this,t=this.$util.getAuthority("FiatOtcGlobal",u["B"],u["C"]);this.configs=t.val,this.$store.dispatch("common/getCoinList").then((function(){e.coinList=e.$store.state.common.coinlist})),this.getList()}},b=f,h=(i("30f8"),i("0c7c")),g=Object(h["a"])(b,n,a,!1,null,null,null);t["default"]=g.exports},7514:function(e,t,i){"use strict";var n=i("5ca1"),a=i("0a49")(5),r="find",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(r)},"87f3":function(e,t,i){var n=i("5ca1");n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},"8aae":function(e,t,i){i("32a6"),e.exports=i("584a").Object.keys},9278:function(e,t,i){var n=i("5ca1");n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},a4bb:function(e,t,i){e.exports=i("8aae")},a8db:function(e,t,i){"use strict";var n=i("e265"),a=i.n(n),r=i("a4bb"),o=i.n(r);function s(e,t){if(null==e)return{};var i,n,a={},r=o()(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}function l(e,t){if(null==e)return{};var i,n,r=s(e,t);if(a.a){var o=a()(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}i.d(t,"a",(function(){return l}))},bf5e:function(e,t,i){},ce7e:function(e,t,i){var n=i("63b6"),a=i("584a"),r=i("294c");e.exports=function(e,t){var i=(a.Object||{})[e]||Object[e],o={};o[e]=t(i),n(n.S+n.F*r((function(){i(1)})),"Object",o)}},e265:function(e,t,i){e.exports=i("ed33")},ed33:function(e,t,i){i("014b"),e.exports=i("584a").Object.getOwnPropertySymbols}}]);