(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-319131d1"],{"53e9":function(t,e,i){"use strict";var a=i("dc5d"),r=i.n(a);r.a},7514:function(t,e,i){"use strict";var a=i("5ca1"),r=i("0a49")(5),s="find",n=!0;s in[]&&Array(1)[s]((function(){n=!1})),a(a.P+a.F*n,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(s)},"87f3":function(t,e,i){var a=i("5ca1");a(a.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},9278:function(t,e,i){var a=i("5ca1");a(a.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},dc5d:function(t,e,i){},efb9:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"riskList-container"},[i("div",{staticClass:"container-top"},[i("Bsearch",{attrs:{configs:t.searchCofig},on:{"do-search":t.doSearch,"do-reset":t.doReset}})],1),t._v(" "),t.isCURDAuth?i("div",{staticClass:"container-btn"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.addRiskConfig}},[t._v("风控参数配置")])],1):t._e(),t._v(" "),i("div",[i("Btable",{attrs:{listLoading:t.listLoading,data:t.list,configs:t.configs},on:{"do-handle":t.doHandle}})],1),t._v(" "),i("div",{staticClass:"container-footer"},[i("icon-page",{attrs:{total:t.total,pages:t.pages}}),t._v(" "),i("el-pagination",{attrs:{background:"",layout:"total,sizes, prev, pager, next, jumper","current-page":t.current_page,"page-sizes":[10,50,100,200],"page-size":t.pageSize,total:t.total},on:{"size-change":t.pageSizeChange,"current-change":t.goPage}})],1),t._v(" "),i("el-dialog",{attrs:{title:t.checkTitle,visible:t.dialogFormVisible,width:"700px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}],ref:"currentForm",attrs:{model:t.currentForm,"label-width":"120px",rules:t.rules}},[i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"异常类型: "}},[[i("el-select",{attrs:{disabled:"",placeholder:""},model:{value:t.limitType,callback:function(e){t.limitType=e},expression:"limitType"}},t._l(t.limitTypeArr,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)]],2)],1)],1),t._v(" "),0==t.limitType?i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:23}},[i("el-form-item",{attrs:{label:"异常设备号: "}},[i("el-input",{attrs:{disabled:!0},model:{value:t.limitIp,callback:function(e){t.limitIp=e},expression:"limitIp"}})],1)],1)],1):t._e(),t._v(" "),1==t.limitType?i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:23}},[i("el-form-item",{attrs:{label:"异常注册IP: "}},[i("el-input",{attrs:{disabled:!0},model:{value:t.limitIp,callback:function(e){t.limitIp=e},expression:"limitIp"}})],1)],1)],1):t._e(),t._v(" "),2==t.limitType?i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:23}},[i("el-form-item",{attrs:{label:"异常登录IP: "}},[i("el-input",{attrs:{disabled:!0},model:{value:t.limitIp,callback:function(e){t.limitIp=e},expression:"limitIp"}})],1)],1)],1):t._e(),t._v(" "),1==t.limitType?i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:23}},[i("el-form-item",{attrs:{label:"异常注册IP关联UID: "}},[i("el-input",{attrs:{disabled:!0,rows:"5",type:"textarea"},model:{value:t.currentForm.abnormalRegisterIpUids,callback:function(e){t.$set(t.currentForm,"abnormalRegisterIpUids",e)},expression:"currentForm.abnormalRegisterIpUids"}})],1)],1)],1):t._e(),t._v(" "),2==t.limitType?i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:23}},[i("el-form-item",{attrs:{label:"异常登录IP关联UID: "}},[i("el-input",{attrs:{disabled:!0,rows:"5",type:"textarea"},model:{value:t.currentForm.abnormalLoginIpUids,callback:function(e){t.$set(t.currentForm,"abnormalLoginIpUids",e)},expression:"currentForm.abnormalLoginIpUids"}})],1)],1)],1):t._e(),t._v(" "),0==t.limitType?i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:23}},[i("el-form-item",{attrs:{label:"异常设备号关联UID: "}},[i("el-input",{attrs:{disabled:!0,rows:"5",type:"textarea"},model:{value:t.currentForm.abnormalDevNoUids,callback:function(e){t.$set(t.currentForm,"abnormalDevNoUids",e)},expression:"currentForm.abnormalDevNoUids"}})],1)],1)],1):t._e(),t._v(" "),i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:23}},[i("el-form-item",{attrs:{label:"创建时间: "}},[t._v(" "+t._s(t.currentForm.createTime))])],1)],1),t._v(" "),i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"处理状态: ",prop:"disposeStatus"}},[[i("el-select",{attrs:{disabled:t.isDetail,placeholder:"请选择"},model:{value:t.currentForm.disposeStatus,callback:function(e){t.$set(t.currentForm,"disposeStatus",e)},expression:"currentForm.disposeStatus"}},t._l(t.typeArr,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)]],2)],1)],1),t._v(" "),i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"处理时间: "}},[t._v(" "+t._s(t.currentForm.disposeTime))])],1)],1)],1),t._v(" "),t.isDetail&&!t.dialogLoading?i("div",{staticClass:"dialog-footer dialog-footer-check",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("知 道 了")])],1):t._e(),t._v(" "),t.isDetail||t.dialogLoading?t._e():i("div",{staticClass:"dialog-footer dialog-footer-check",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:t.confirmOp}},[t._v(" 确 定")])],1)],1)],1)},r=[],s=(i("a481"),i("ac6a"),i("96cf"),i("3b8d")),n=i("c249"),o=i("2fee"),l=i("f21b"),c=i("0203"),u=i("4ec3"),p=i("ca00"),d={name:"riskList",components:{Btable:o["a"],Bsearch:n["a"],iconPage:l["a"]},data:function(){return{limitType:"",dialogLoading:!1,isDetail:!1,typeArr:[{value:0,label:"待处理"},{value:1,label:"异常处理"},{value:2,label:"正常处理"}],limitTypeArr:[{value:0,label:"异常设备"},{value:1,label:"异常注册IP"},{value:2,label:"异常登录"}],currentForm:{},btnLoading:!1,recheckType:"",checkTitle:"",rules:{disposeStatus:[{required:!0,message:"必填",trigger:"blur"}]},dialogFormVisible:!1,isCURDAuth:!1,listLoading:!1,list:[],dataList:[],configs:[],searchCofig:[],search_params_obj:{},current_page:1,pageSize:10,total:0,pages:0,curId:"",limitIp:!1}},methods:{confirmOp:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$refs["currentForm"].validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(i){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i){t.next=5;break}return t.next=3,u["a"].apiEditriskList({id:e.curId,status:e.currentForm.disposeStatus});case 3:a=t.sent,a&&(e.$message.success("处理成功"),e.dialogFormVisible=!1,e.getList());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addRiskConfig:function(){this.$router.push("/user/riskConfig")},doHandle:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var i,a,r,s,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.fn,a=e.row,this.row=a,this.limitType=a.limitType,this.limitIp=a.serialNumber,"detail"!==i){t.next=13;break}return this.dialogLoading=!0,this.dialogFormVisible=!0,this.checkTitle="详情",this.isDetail=!0,t.next=11,u["a"].apiGetriskListInfo({id:a.id});case 11:r=t.sent,r&&(this.dialogLoading=!1,s=r.data.data,this.currentForm=s);case 13:if("edit"!==i){t.next=22;break}return this.dialogLoading=!0,this.isDetail=!1,this.checkTitle="编辑",this.dialogFormVisible=!0,t.next=20,u["a"].apiGetriskListInfo({id:a.id});case 20:n=t.sent,n&&(this.dialogLoading=!1,this.curId=a.id,o=n.data.data,this.currentForm=o);case 22:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),doSearch:function(t){this.current_page=1,this.search_params_obj=t,this.getList()},doReset:function(){this.search_params_obj={},this.searchCofig.forEach((function(t){t["value"]=""})),this.getList()},exportExcel:function(){p["a"].exportData.apply(this,[0])},pageSizeChange:function(t){this.current_page=1,this.pageSize=t,this.getList()},goPage:function(t){this.current_page=t,this.getList()},getList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i,a,r,s,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.listLoading){t.next=2;break}return t.abrupt("return");case 2:return e={pageIndex:this.current_page,pageSize:this.pageSize},this.requiredParams(e),Object.assign(e,this.search_params_obj),this.listLoading=!0,t.next=8,u["a"].apiGetriskListList(e);case 8:i=t.sent,i&&(a=i.data.data,r=a.records,s=a.total,n=a.current,o=a.pages,this.total=+s,this.pages=+o,this.current_page=+n,this.list=r,this.dataList=r),this.listLoading=!1;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),formatTime:function(t){return~(t+"").indexOf("-")?t:t.replace(/\//gi,"-")},requiredParams:function(t){this.$util.isEmptyObject(this.search_params_obj)||this.search_params_obj.startTime&&(this.search_params_obj.endTime=this.formatTime(this.search_params_obj.endTime),this.search_params_obj.startTime=this.formatTime(this.search_params_obj.startTime))}},mounted:function(){var t=this.$util.getAuthority("riskList",c["d"],c["e"]);this.configs=t.val,this.isCURDAuth=t.isAdd,this.toDay=this.$util.diyTime("toDay"),this.ago=this.$util.diyTime("ago"),this.searchCofig=this.$util.clone(c["f"]),this.getList()}},m=d,h=(i("53e9"),i("0c7c")),g=Object(h["a"])(m,a,r,!1,null,null,null);e["default"]=g.exports}}]);