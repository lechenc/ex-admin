(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6418464"],{"11f0":function(t,e,i){"use strict";var a=i("8a75"),n=i.n(a);n.a},"2e08":function(t,e,i){var a=i("9def"),n=i("9744"),r=i("be13");t.exports=function(t,e,i,o){var s=String(r(t)),c=s.length,l=void 0===i?" ":String(i),h=a(e);if(h<=c||""==l)return s;var u=h-c,d=n.call(l,Math.ceil(u/l.length));return d.length>u&&(d=d.slice(0,u)),o?d+s:s+d}},7514:function(t,e,i){"use strict";var a=i("5ca1"),n=i("0a49")(5),r="find",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),a(a.P+a.F*o,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(r)},"87f3":function(t,e,i){var a=i("5ca1");a(a.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},"8a75":function(t,e,i){},9278:function(t,e,i){var a=i("5ca1");a(a.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},9744:function(t,e,i){"use strict";var a=i("4588"),n=i("be13");t.exports=function(t){var e=String(n(this)),i="",r=a(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},e8ab:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hotWalletExtract-container"},[i("div",{staticClass:"container-top"},[i("Bsearch",{attrs:{configs:t.searchCofig},on:{"do-search":t.doSearch,"do-reset":t.doReset}})],1),t._v(" "),t.isCURDAuth?i("div",{staticClass:"container-btn"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.addChain}},[t._v("添加")])],1):t._e(),t._v(" "),i("div",[i("Btable",{attrs:{"list-loading":t.listLoading,data:t.list,configs:t.configs},on:{"do-handle":t.doHandle}})],1),t._v(" "),i("el-dialog",{attrs:{title:t.formName,width:"500px",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"chainForm",attrs:{model:t.chainForm,rules:t.rules,"validate-on-rule-change":!1}},[i("el-form-item",{attrs:{label:"链名称","label-width":t.formLabelWidth,prop:"chain"}},[i("el-select",{attrs:{disabled:t.isEdit,placeholder:"请选择"},on:{change:t.chainChange},model:{value:t.chainForm.chain,callback:function(e){t.$set(t.chainForm,"chain",e)},expression:"chainForm.chain"}},t._l(t.chainList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.label}})})),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"币种","label-width":t.formLabelWidth,prop:"coin"}},[i("el-select",{attrs:{disabled:t.isEdit,placeholder:"请选择"},model:{value:t.chainForm.coin,callback:function(e){t.$set(t.chainForm,"coin",e)},expression:"chainForm.coin"}},t._l(t.coinList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.label}})})),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"单笔限额","label-width":t.formLabelWidth,prop:"maxAutoWithdraw"}},[i("el-input",{attrs:{placeholder:"请输入",autocomplete:"off",type:"number"},on:{input:function(e){return t.checkVal("maxAutoWithdraw")}},model:{value:t.chainForm.maxAutoWithdraw,callback:function(e){t.$set(t.chainForm,"maxAutoWithdraw",e)},expression:"chainForm.maxAutoWithdraw"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"单日限额","label-width":t.formLabelWidth,prop:"maxDailyAutoWithdraw"}},[i("el-input",{attrs:{placeholder:"请输入",autocomplete:"off",type:"number"},on:{input:function(e){return t.checkVal("maxDailyAutoWithdraw")}},model:{value:t.chainForm.maxDailyAutoWithdraw,callback:function(e){t.$set(t.chainForm,"maxDailyAutoWithdraw",e)},expression:"chainForm.maxDailyAutoWithdraw"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"热钱包启用开关","label-width":t.formLabelWidth}},[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.changeStauus},model:{value:t.chainForm.status,callback:function(e){t.$set(t.chainForm,"status",e)},expression:"chainForm.status"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"谷歌验证码","label-width":t.formLabelWidth,prop:"googleCode"}},[i("el-input",{staticClass:"my-mumber-input",attrs:{placeholder:"请输入",autocomplete:"off",type:"text"},on:{input:function(e){return t.checkVal3("chainForm","googleCode")}},model:{value:t.chainForm.googleCode,callback:function(e){t.$set(t.chainForm,"googleCode",e)},expression:"chainForm.googleCode"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:t.confirmOp}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogSetVisible,width:"650px",title:"查看余额"},on:{"update:visible":function(e){t.dialogSetVisible=e}}},[i("el-row",{staticStyle:{"margin-bottom":"22px"}},[i("el-col",{attrs:{span:6}},[t._v("\n        链类型名称: "),i("span",{staticStyle:{color:"#4390ff"}},[t._v(t._s(t.protocol))])]),t._v(" "),i("el-col",{attrs:{span:6}},[t._v("\n        币种名称: "),i("span",{staticStyle:{color:"#4390ff"}},[t._v(t._s(t.coinKey))])])],1),t._v(" "),i("Btable",{attrs:{"list-loading":t.setListLoading,data:t.setlist,configs:t.setConfigs}})],1)],1)},n=[],r=(i("8e6e"),i("bd86")),o=(i("a481"),i("96cf"),i("3b8d")),s=(i("6762"),i("ac6a"),i("456d"),i("c249")),c=i("2fee"),l=i("f9e1"),h=i("ed08"),u=i("4ec3");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(r["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={name:"CoinWhiteList",components:{Btable:c["a"],Bsearch:s["a"]},filters:{typeTime:function(t){return t?Object(h["a"])(t):""}},data:function(){return{isCURDAuth:!0,btnLoading:!1,btnLoading2:!1,listLoading:!1,list:[],configs:[],searchCofig:[],search_params_obj:{},current_page:1,pageSize:this.$pageSize,total:0,pages:0,dialogFormVisible:!1,chainForm:{id:"",coin:"",chain:"",maxAutoWithdraw:"",maxDailyAutoWithdraw:"",status:!1,googleCode:""},formName:"",formLabelWidth:"125px",labelWidth:"125px",dialogSetVisible:!1,setListLoading:!1,setConfigs:[],setlist:[],coinKey:"",protocol:"",chainList:[],chainCoinObj:{},isEdit:!1}},computed:{coinList:function(){if(this.chainForm.chain&&this.chainCoinObj[this.chainForm.chain]){var t=this.chainCoinObj[this.chainForm.chain].map((function(t){return{label:t.coinName,value:t.coinId}}));return t}return[]},rules:function(){var t=["dayTime","nightTime","userNightWithdrawTimes","userNightWithdrawAmount","userNightWithdrawAmountTotal"],e=this.chainForm.status,i=Object.keys(this.chainForm),a={};return i.forEach((function(i){a[i]=[{required:!t.includes(i)||e,message:"必填",trigger:"blur"}]})),a}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.$util.getAuthority("HotWalletExtract",l["r"],l["s"]),this.configs=e.val,this.isCURDAuth=e.isAdd,this.setConfigs=l["t"],this.getList();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{changeStauus:function(){this.$refs.chainForm.clearValidate()},chainChange:function(t){this.chainForm.coin=""},checkVal3:function(t,e){this[t][e]=(this[t][e]+"").replace(/[^\d]/g,"")},checkVal:function(t){var e=["maxAutoWithdraw","userNightWithdrawAmount","userNightWithdrawAmountTotal","maxDailyAutoWithdraw"];e.includes(t)?this.chainForm[t]=(this.chainForm[t]+"").replace(/^(\-)*(\d+)\.(\d{0,8}).*$/,"$2.$3"):"userNightWithdrawTimes"===t&&(this.chainForm[t]=(parseInt(this.chainForm[t])+"").replace(/^(\-)*(\d{0,4}).*$/,"$2")),this.chainForm[t]<0&&(this.chainForm[t]=0)},doHandle:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var i,a,n,r,o,s,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.fn,a=e.row,"edit"===i&&(this.isEdit=!0,this.formName="编辑",this.dialogFormVisible=!0,this.getChainCoin(),this.$nextTick((function(){c.$refs["chainForm"].resetFields();var t=Object.keys(c.chainForm);t.forEach((function(t){c.chainForm[t]=a[t]})),c.chainForm.status=!!a["status"],c.chainForm.googleCode=""}))),"checkBalance"===i&&(n=a.chain,r=a.coin,this.dialogSetVisible=!0,o=u["a"].apiHotWalletExtractCheckChain({protocol:a.chain}),this.setlist=[],this.protocol=n,this.coinKey=r,s=u["a"].apiHotWalletExtractCheckDetail,o.then((function(t){var e=t.data.data;e instanceof Array&&e.forEach((function(t,e){c.setlist.push({address:t}),s({protocol:n,coinKey:r,address:t}).then((function(t){var i=t.data.data;c.$set(c.setlist,e,f({},c.setlist[e],{},i))}))}))})));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),addChain:function(){var t=this;this.isEdit=!1,this.formName="添加",this.dialogFormVisible=!0,this.getChainCoin(),this.$nextTick((function(){t.$refs["chainForm"].resetFields();var e=Object.keys(t.chainForm);e.forEach((function(e){t.chainForm[e]=""})),t.chainForm["status"]=!1}))},confirmOp:function(){var t=this;this.$refs["chainForm"].validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(i){var a,n,r,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i){e.next=16;break}if(a=t.chainForm,n=a.id,r=a.status,a.dayTime,a.nightTime,o=f({},t.chainForm,{status:r?1:0}),t.btnLoading=!0,n){e.next=10;break}return e.next=7,u["a"].apiAddHotWalletExtract(f({},o));case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,u["a"].apiEditHotWalletExtract(f({},o,{id:n}));case 12:e.t0=e.sent;case 13:s=e.t0,s&&(c=n?"编辑成功":"新增成功",t.$message({message:c,type:"success"}),t.dialogFormVisible=!1,t.getList()),t.btnLoading=!1;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},doSearch:function(t){this.current_page=1,this.search_params_obj=t,this.getList()},doReset:function(){this.search_params_obj={},this.searchCofig.forEach((function(t){t["value"]=""})),this.getList()},goPage:function(t){this.current_page=t,this.getList()},getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.listLoading){t.next=2;break}return t.abrupt("return");case 2:return e={},Object.assign(e,this.search_params_obj),this.listLoading=!0,t.next=7,u["a"].apiGetHotWalletExtractList(e);case 7:i=t.sent,i?(this.list=i.data.data.map((function(t){return f({},t,{isStatus:Boolean(t.status)})})),this.listLoading=!1):this.listLoading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getChainCoin:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].apiGetChainCoinList({});case 2:if(e=t.sent,e)for(i in this.chainCoinObj=e.data.data,this.chainCoinObj)this.chainList.push({label:i,value:i});case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},p=m,g=(i("11f0"),i("0c7c")),b=Object(g["a"])(p,a,n,!1,null,"b415aa78",null);e["default"]=b.exports},f576:function(t,e,i){"use strict";var a=i("5ca1"),n=i("2e08"),r=i("a25f"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);a(a.P+a.F*o,"String",{padStart:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0,!0)}})}}]);