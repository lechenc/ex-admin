(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac5c899e"],{"5cd4":function(e,t,a){"use strict";var r=a("f8f9"),o=a.n(r);o.a},"64d1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-container"},[a("div",{staticClass:"container-top"},[a("Bsearch",{attrs:{configs:e.searchCofig},on:{"do-search":e.doSearch,"do-reset":e.doReset}})],1),e._v(" "),a("div",{staticClass:"container-btn"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.addAnalyst(0)}}},[e._v("添加分析师")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.addAnalyst(1)}}},[e._v("批量添加分析师")])],1),e._v(" "),a("div",[a("Btable",{attrs:{listLoading:e.listLoading,data:e.list,configs:e.configs},on:{"do-handle":e.doHandle}})],1),e._v(" "),a("div",{staticClass:"container-footer"},[a("icon-page",{attrs:{total:e.total,pages:e.pages}}),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":e.current_page,"page-size":e.pageSize,total:e.total},on:{"current-change":e.goPage}})],1),e._v(" "),a("el-Dialog",{staticClass:"notice-dialog",attrs:{visible:e.showDialog,title:e.title,width:"700px"},on:{"update:visible":function(t){e.showDialog=t}}},[a("el-form",{ref:"form",staticStyle:{width:"90%","padding-left":"15px"},attrs:{model:e.form,"label-width":"160px",rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"关联的实盘用户UID",prop:"relevanceUid"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入关联的实盘用户UID"},model:{value:e.form.relevanceUid,callback:function(t){e.$set(e.form,"relevanceUid",t)},expression:"form.relevanceUid"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"登录手机号",prop:"phone"}},[a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"请选择",width:"20%"},model:{value:e.form.phoneAreaCode,callback:function(t){e.$set(e.form,"phoneAreaCode",t)},expression:"form.phoneAreaCode"}},e._l(e.phoneAreaCodeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.phoneAreaCode,value:e.phoneAreaCode}})})),1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone","string"===typeof t?t.trim():t)},expression:"form.phone"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{staticClass:"my-form-item",attrs:{label:"登录邮箱",prop:"email"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email","string"===typeof t?t.trim():t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{staticClass:"my-form-item",attrs:{label:"登录密码",prop:"loginPassword"}},[a("el-input",{attrs:{size:"small",type:"password","auto-complete":"new-password",placeholder:"请输入"},model:{value:e.form.loginPassword,callback:function(t){e.$set(e.form,"loginPassword",t)},expression:"form.loginPassword"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"登录开关",prop:"loginSwitch"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.loginSwitch,callback:function(t){e.$set(e.form,"loginSwitch","string"===typeof t?t.trim():t)},expression:"form.loginSwitch"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"谷歌验证码",prop:"googleCode"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",type:"Number"},model:{value:e.form.googleCode,callback:function(t){e.$set(e.form,"googleCode","string"===typeof t?t.trim():t)},expression:"form.googleCode"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"comfirn-btn footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.btnLoading},on:{click:e.confirm}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(t){e.showDialog=!1}}},[e._v("取消")])],1)],1),e._v(" "),a("el-Dialog",{staticClass:"notice-dialog",attrs:{visible:e.dialogFlag,title:e.title,width:"700px"},on:{"update:visible":function(t){e.dialogFlag=t}}},[a("el-form",{ref:"batchForm",staticStyle:{width:"90%","padding-left":"15px"},attrs:{model:e.batchForm,"label-width":"160px",rules:e.rules}},[a("el-row",[a("el-form-item",{attrs:{label:"关联的实盘用户UID",prop:"relevanceUid"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入关联的实盘用户UID"},model:{value:e.batchForm.relevanceUid,callback:function(t){e.$set(e.batchForm,"relevanceUid",t)},expression:"batchForm.relevanceUid"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"法币开关","label-width":"80px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.batchForm.userOtcStatus,callback:function(t){e.$set(e.batchForm,"userOtcStatus","string"===typeof t?t.trim():t)},expression:"batchForm.userOtcStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"划转开关","label-width":"80px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.batchForm.userTransferStatus,callback:function(t){e.$set(e.batchForm,"userTransferStatus","string"===typeof t?t.trim():t)},expression:"batchForm.userTransferStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"币币交易开关","label-width":"100px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.batchForm.userTradeStatus,callback:function(t){e.$set(e.batchForm,"userTradeStatus","string"===typeof t?t.trim():t)},expression:"batchForm.userTradeStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"提币开关","label-width":"80px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.batchForm.userWithdrawStatus,callback:function(t){e.$set(e.batchForm,"userWithdrawStatus","string"===typeof t?t.trim():t)},expression:"batchForm.userWithdrawStatus"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"登录手机号",prop:"phone"}},[a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"请选择",width:"20%"},model:{value:e.batchForm.phoneAreaCode,callback:function(t){e.$set(e.batchForm,"phoneAreaCode",t)},expression:"batchForm.phoneAreaCode"}},e._l(e.phoneAreaCodeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.phoneAreaCode,value:e.phoneAreaCode}})})),1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.batchForm.phone,callback:function(t){e.$set(e.batchForm,"phone","string"===typeof t?t.trim():t)},expression:"batchForm.phone"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{staticClass:"my-form-item",attrs:{label:"邮箱区间",prop:"emailRange"}},[a("el-col",{attrs:{span:2}},[e._v(e._s(e.batchForm.mailPrefix))]),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.batchForm.mailMidStartNum,callback:function(t){e.$set(e.batchForm,"mailMidStartNum",t)},expression:"batchForm.mailMidStartNum"}})],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.batchForm.mailMidEndNum,callback:function(t){e.$set(e.batchForm,"mailMidEndNum",t)},expression:"batchForm.mailMidEndNum"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[e._v(" "+e._s(e.batchForm.mailPostfix))])],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{staticClass:"my-form-item",attrs:{label:"登录密码",prop:"loginPassword"}},[a("el-input",{attrs:{size:"small",type:"password",placeholder:"请输入"},model:{value:e.batchForm.loginPassword,callback:function(t){e.$set(e.batchForm,"loginPassword",t)},expression:"batchForm.loginPassword"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"登录开关",prop:"loginSwitch"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.batchForm.loginSwitch,callback:function(t){e.$set(e.batchForm,"loginSwitch","string"===typeof t?t.trim():t)},expression:"batchForm.loginSwitch"}})],1)],1),e._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"谷歌验证码",prop:"googleCode"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",type:"Number"},model:{value:e.batchForm.googleCode,callback:function(t){e.$set(e.batchForm,"googleCode","string"===typeof t?t.trim():t)},expression:"batchForm.googleCode"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"comfirn-btn footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.btnLoading},on:{click:e.createBatch}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(t){e.dialogFlag=!1}}},[e._v("取消")])],1)],1)],1)},o=[],i=(a("8e6e"),a("456d"),a("a481"),a("ac6a"),a("bd86")),s=(a("96cf"),a("3b8d")),l=a("c249"),n=a("2fee"),c=a("f21b"),m=a("e8f8"),u=a("4ec3"),d=a("ca00"),h=a("70ac"),p=a.n(h);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={name:"AnalystMimicList",components:{Btable:n["a"],Bsearch:l["a"],iconPage:c["a"]},data:function(){var e=this,t=function(t,a,r){var o=+e.batchForm.mailMidStartNum,i=+e.batchForm.mailMidEndNum;o&&i?o>i?r(new Error("最大值超过最小值区间,请重新填写")):o===i?r(new Error("最小值必须小于最大值, 请重新填写")):r():r(new Error("请输入数字区间"))};return{btnLoading:!1,showDialog:!1,title:"添加分析师",rules:{loginPassword:[{required:!0,message:"请输入",trigger:"blur"}],googleCode:[{required:!0,message:"请输入",trigger:"blur"}],emailRange:[{validator:t,trigger:"blur"}]},phoneAreaCodeList:[{label:86}],listLoading:!1,excelLoading:!1,list:[],dataList:[],configs:[],searchCofig:[],search_params_obj:{},current_page:1,pageSize:10,total:0,pages:0,toDay:"",ago:"",excelTitle:"用户列表",form:{loginSwitch:!1,uid:"",phone:"",phoneAreaCode:"",email:"",loginPassword:"",googleCode:""},batchForm:{loginSwitch:!1,phone:"",phoneAreaCode:"",loginPassword:"",googleCode:"",relevanceUid:"",mailMidStartNum:"",mailMidEndNum:"",userOtcStatus:!1,userTransferStatus:!1,userTradeStatus:!1,userWithdrawStatus:!1,mailPrefix:"alpex",mailPostfix:"@gmail.com"},dialogFlag:!1}},filters:{userType:function(e){}},watch:{showDialog:function(e){e?this.getCode():this.form={loginSwitch:!1,uid:"",phone:"",phoneAreaCode:"",email:"",loginPassword:"",googleCode:""}},dialogFlag:function(e){e?this.getCode():this.batchForm={loginSwitch:!1,phone:"",phoneAreaCode:"",loginPassword:"",googleCode:"",relevanceUid:"",mailMidStartNum:"",mailMidEndNum:"",userOtcStatus:!1,userTransferStatus:!1,userTradeStatus:!1,userWithdrawStatus:!1,mailPrefix:"alpex",mailPostfix:"@gmail.com"}}},methods:{confirm:function(){var e=this;this.$refs.form.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var r,o,i,s,l,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("valid: ",a),!a){t.next=20;break}if(r=e.form,r.phone,r.phoneAreaCode,r.email,r.loginPassword,o=r.googleCode,i=r.loginSwitch,s=r.uid,l={googleCode:o,loginSwitch:i?0:1},n=e.configValidate(e.form,l),console.log(n),console.log(l),!s){t.next=13;break}return t.next=10,u["a"].editAnalystMimicList(f({},n,{uid:s}));case 10:t.t0=t.sent,t.next=16;break;case 13:return t.next=15,u["a"].addAnalystMimicList(f({},n));case 15:t.t0=t.sent;case 16:c=t.t0,c&&(s?e.$message.success({title:"提示",message:"编辑成功"}):e.$message.success({title:"提示",message:"添加成功"}),e.showDialog=!1,e.getList()),t.next=21;break;case 20:e.$message.error({title:"提示",message:"请完成表单内容填写再重试"});case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},configValidate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.phone&&!e.email)return this.$message.error({title:"提示",message:"请至少填写手机号和邮箱的一种"});if(e.phone){var a=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/,r=a.test(e.phone);if(!r)return this.$message.eror("请输入正确手机号");t.phone=e.phone,t.phoneAreaCode=e.phoneAreaCode}if(e.email){var o=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/;if(!o.test(e.email))return this.$message.error("请输入正确邮箱");t.email=e.email}return e.uid&&"********"===e.loginPasword||(t.loginPassword=p.a.md5(e.loginPassword)),console.log("sendObj: ",t),t},createBatch:function(){var e=this;this.$refs.batchForm.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var r,o,i,s,l,n,c,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(a),!a){t.next=9;break}return r=e.batchForm,o=r.userOtcStatus,i=r.userTransferStatus,s=r.userTradeStatus,l=r.userWithdrawStatus,n=r.loginSwitch,c=f({},e.batchForm,{},e.configValidate(e.batchForm),{userOtcStatus:+o,userTransferStatus:+i,userTradeStatus:+s,userWithdrawStatus:+l,loginSwitch:+n}),t.next=6,u["a"].batchAddAnalyst(c);case 6:m=t.sent,console.log("batchAddAnalyst: ",m),m&&(e.$message.success({title:"提示",message:"添加成功"}),e.dialogFlag=!1,e.getList());case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getCode:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].getCountryCode({});case 2:t=e.sent,this.phoneAreaCodeList=t.data.data,console.log(this.phoneAreaCode);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addAnalyst:function(e){this.title=(0===e?"":"批量")+"添加分析师",e?this.dialogFlag=!0:this.showDialog=!0},doHandle:function(e){var t=e.fn,a=e.row;if("detail"===t&&this.$router.push({path:"/contractMimic/analystMimic/analystMimicDetail",query:{uid:a.uid}}),"edit"===t){this.title="编辑分析师";var r=a.loginSwitch,o=a.uid,i=a.phone,s=a.email,l=(a.loginPassword,a.googleCode),n=a.relevanceUid;this.form={loginSwitch:!r,uid:o,phone:i,phoneAreaCode:86,email:s,loginPassword:"********",googleCode:l,relevanceUid:n},this.showDialog=!0,this.dialogFlag=!1}},doSearch:function(e){this.current_page=1,this.search_params_obj=e,this.getList()},doReset:function(){this.search_params_obj={},this.searchCofig.forEach((function(e){e["value"]=""})),this.getList()},goPage:function(e){this.current_page=e,this.getList()},exportExcel:function(e){this.search_params_obj=e.query;var t=e.num;d["a"].exportData.apply(this,[t])},getList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r,o,i,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.listLoading){e.next=2;break}return e.abrupt("return");case 2:return t={pageNum:this.current_page,pageSize:this.pageSize},Object.assign(t,this.search_params_obj),this.listLoading=!0,e.next=7,u["a"].getAnalystMimicList(t);case 7:a=e.sent,a&&(r=a.data.data,o=r.records,i=r.total,s=r.pages,l=r.current,this.total=+i,this.pages=+s,this.current_page=l,this.list=o,this.dataList=o),this.listLoading=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),queryData:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.excelLoading=!0,this.requiredParams(t),Object.assign(t,this.search_params_obj),e.next=5,u["a"].getUserList(t);case 5:return a=e.sent,this.excelLoading=!1,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),requiredParams:function(e){if(this.$util.isEmptyObject(this.search_params_obj)){var t=this.$util.dateFormat(this.ago,"YYYY/MM/DD HH:mm:ss"),a=this.$util.dateFormat(this.toDay,"YYYY/MM/DD HH:mm:ss");this.searchCofig[0].value=[t,a],e.endTime=a.replace(/\//gi,"-"),e.startTime=t.replace(/\//gi,"-")}this.search_params_obj.startTime&&(this.search_params_obj.endTime=this.formatTime(this.search_params_obj.endTime),this.search_params_obj.startTime=this.formatTime(this.search_params_obj.startTime))},formatTime:function(e){return~(e+"").indexOf("-")?e:e.replace(/\//gi,"-")}},mounted:function(){var e=this.$util.getAuthority("AnalystMimicList",m["d"],m["e"]);console.log("analystMimicListColNoBtn: ",m["e"]),console.log("analystMimicListCol: ",m["d"]),this.configs=e.val,this.toDay=this.$util.diyTime("toDay"),this.ago=this.$util.diyTime("ago"),this.searchCofig=this.$util.clone(m["f"]),this.getList()}},v=b,w=(a("5cd4"),a("0c7c")),y=Object(w["a"])(v,r,o,!1,null,null,null);t["default"]=y.exports},f8f9:function(e,t,a){}}]);