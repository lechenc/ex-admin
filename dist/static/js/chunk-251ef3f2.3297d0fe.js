(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-251ef3f2"],{"2e08":function(t,i,e){var a=e("9def"),n=e("9744"),r=e("be13");t.exports=function(t,i,e,o){var s=String(r(t)),c=s.length,l=void 0===e?" ":String(e),h=a(i);if(h<=c||""==l)return s;var u=h-c,d=n.call(l,Math.ceil(u/l.length));return d.length>u&&(d=d.slice(0,u)),o?d+s:s+d}},"4c9d":function(t,i,e){"use strict";e("8dce")},7514:function(t,i,e){"use strict";var a=e("5ca1"),n=e("0a49")(5),r="find",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),a(a.P+a.F*o,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),e("9c6c")(r)},"87f3":function(t,i,e){var a=e("5ca1");a(a.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},"8dce":function(t,i,e){},9278:function(t,i,e){var a=e("5ca1");a(a.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},9744:function(t,i,e){"use strict";var a=e("4588"),n=e("be13");t.exports=function(t){var i=String(n(this)),e="",r=a(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(i+=i))1&r&&(e+=i);return e}},e8ab:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"hotWalletExtract-container"},[e("div",{staticClass:"container-top"},[e("Bsearch",{attrs:{configs:t.searchCofig},on:{"do-search":t.doSearch,"do-reset":t.doReset}})],1),t._v(" "),t.isCURDAuth?e("div",{staticClass:"container-btn"},[e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.addChain}},[t._v("添加")])],1):t._e(),t._v(" "),e("div",[e("Btable",{attrs:{"list-loading":t.listLoading,data:t.list,configs:t.configs},on:{"do-handle":t.doHandle}})],1),t._v(" "),e("el-dialog",{attrs:{title:t.formName,width:"500px",visible:t.dialogFormVisible},on:{"update:visible":function(i){t.dialogFormVisible=i}}},[e("el-form",{ref:"chainForm",attrs:{model:t.chainForm,rules:t.rules,"validate-on-rule-change":!1}},[e("el-form-item",{attrs:{label:"链名称","label-width":t.formLabelWidth,prop:"chain"}},[e("el-select",{attrs:{disabled:t.isEdit,placeholder:"请选择"},on:{change:t.chainChange},model:{value:t.chainForm.chain,callback:function(i){t.$set(t.chainForm,"chain",i)},expression:"chainForm.chain"}},t._l(t.chainList,(function(t,i){return e("el-option",{key:i,attrs:{label:t.label,value:t.label}})})),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"币种","label-width":t.formLabelWidth,prop:"coin"}},[e("el-select",{attrs:{disabled:t.isEdit,placeholder:"请选择"},model:{value:t.chainForm.coin,callback:function(i){t.$set(t.chainForm,"coin",i)},expression:"chainForm.coin"}},t._l(t.coinList,(function(t,i){return e("el-option",{key:i,attrs:{label:t.label,value:t.label}})})),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"单笔限额","label-width":t.formLabelWidth,prop:"maxAutoWithdraw"}},[e("el-input",{attrs:{placeholder:"请输入",autocomplete:"off",type:"number"},on:{input:function(i){return t.checkVal("maxAutoWithdraw")}},model:{value:t.chainForm.maxAutoWithdraw,callback:function(i){t.$set(t.chainForm,"maxAutoWithdraw",i)},expression:"chainForm.maxAutoWithdraw"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"单日限额","label-width":t.formLabelWidth,prop:"maxDailyAutoWithdraw"}},[e("el-input",{attrs:{placeholder:"请输入",autocomplete:"off",type:"number"},on:{input:function(i){return t.checkVal("maxDailyAutoWithdraw")}},model:{value:t.chainForm.maxDailyAutoWithdraw,callback:function(i){t.$set(t.chainForm,"maxDailyAutoWithdraw",i)},expression:"chainForm.maxDailyAutoWithdraw"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"热钱包启用开关","label-width":t.formLabelWidth}},[e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.changeStauus},model:{value:t.chainForm.status,callback:function(i){t.$set(t.chainForm,"status",i)},expression:"chainForm.status"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"谷歌验证码","label-width":t.formLabelWidth,prop:"googleCode"}},[e("el-input",{staticClass:"my-mumber-input",attrs:{placeholder:"请输入",autocomplete:"off",type:"text"},on:{input:function(i){return t.checkVal3("chainForm","googleCode")}},model:{value:t.chainForm.googleCode,callback:function(i){t.$set(t.chainForm,"googleCode",i)},expression:"chainForm.googleCode"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:t.confirmOp}},[t._v("确 定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{visible:t.dialogSetVisible,width:"650px",title:"查看余额"},on:{"update:visible":function(i){t.dialogSetVisible=i}}},[e("el-row",{staticStyle:{"margin-bottom":"22px"}},[e("el-col",{attrs:{span:6}},[t._v("\n        链类型名称: "),e("span",{staticStyle:{color:"#4390ff"}},[t._v(t._s(t.protocol))])]),t._v(" "),e("el-col",{attrs:{span:6}},[t._v("\n        币种名称: "),e("span",{staticStyle:{color:"#4390ff"}},[t._v(t._s(t.coinKey))])])],1),t._v(" "),e("Btable",{attrs:{"list-loading":t.setListLoading,data:t.setlist,configs:t.setConfigs}})],1)],1)},n=[],r=e("5530"),o=(e("a481"),e("96cf"),e("1da1")),s=(e("6762"),e("ac6a"),e("456d"),e("c249")),c=e("2fee"),l=e("f9e1"),h=e("ed08"),u=e("4ec3"),d={name:"CoinWhiteList",components:{Btable:c["a"],Bsearch:s["a"]},filters:{typeTime:function(t){return t?Object(h["a"])(t):""}},data:function(){return{isCURDAuth:!0,btnLoading:!1,btnLoading2:!1,listLoading:!1,list:[],configs:[],searchCofig:[],search_params_obj:{},current_page:1,pageSize:this.$pageSize,total:0,pages:0,dialogFormVisible:!1,chainForm:{id:"",coin:"",chain:"",maxAutoWithdraw:"",maxDailyAutoWithdraw:"",status:!1,googleCode:""},formName:"",formLabelWidth:"125px",labelWidth:"125px",dialogSetVisible:!1,setListLoading:!1,setConfigs:[],setlist:[],coinKey:"",protocol:"",chainList:[],chainCoinObj:{},isEdit:!1}},computed:{coinList:function(){if(this.chainForm.chain&&this.chainCoinObj[this.chainForm.chain]){var t=this.chainCoinObj[this.chainForm.chain].map((function(t){return{label:t.coinName,value:t.coinId}}));return t}return[]},rules:function(){var t=["dayTime","nightTime","userNightWithdrawTimes","userNightWithdrawAmount","userNightWithdrawAmountTotal"],i=this.chainForm.status,e=Object.keys(this.chainForm),a={};return e.forEach((function(e){a[e]=[{required:!t.includes(e)||i,message:"必填",trigger:"blur"}]})),a}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=this.$util.getAuthority("HotWalletExtract",l["r"],l["s"]),this.configs=i.val,this.isCURDAuth=i.isAdd,this.setConfigs=l["t"],this.getList();case 5:case"end":return t.stop()}}),t,this)})));function i(){return t.apply(this,arguments)}return i}(),methods:{changeStauus:function(){this.$refs.chainForm.clearValidate()},chainChange:function(t){this.chainForm.coin=""},checkVal3:function(t,i){this[t][i]=(this[t][i]+"").replace(/[^\d]/g,"")},checkVal:function(t){var i=["maxAutoWithdraw","userNightWithdrawAmount","userNightWithdrawAmountTotal","maxDailyAutoWithdraw"];i.includes(t)?this.chainForm[t]=(this.chainForm[t]+"").replace(/^(\-)*(\d+)\.(\d{0,8}).*$/,"$2.$3"):"userNightWithdrawTimes"===t&&(this.chainForm[t]=(parseInt(this.chainForm[t])+"").replace(/^(\-)*(\d{0,4}).*$/,"$2")),this.chainForm[t]<0&&(this.chainForm[t]=0)},doHandle:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(i){var e,a,n,o,s,c,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=i.fn,a=i.row,"edit"===e&&(this.isEdit=!0,this.formName="编辑",this.dialogFormVisible=!0,this.getChainCoin(),this.$nextTick((function(){l.$refs["chainForm"].resetFields();var t=Object.keys(l.chainForm);t.forEach((function(t){l.chainForm[t]=a[t]})),l.chainForm.status=!!a["status"],l.chainForm.googleCode=""}))),"checkBalance"===e&&(n=a.chain,o=a.coin,this.dialogSetVisible=!0,s=u["a"].apiHotWalletExtractCheckChain({protocol:a.chain}),this.setlist=[],this.protocol=n,this.coinKey=o,c=u["a"].apiHotWalletExtractCheckDetail,s.then((function(t){var i=t.data.data;i instanceof Array&&i.forEach((function(t,i){l.setlist.push({address:t}),c({protocol:n,coinKey:o,address:t}).then((function(t){var e=t.data.data;l.$set(l.setlist,i,Object(r["a"])(Object(r["a"])({},l.setlist[i]),e))}))}))})));case 3:case"end":return t.stop()}}),t,this)})));function i(i){return t.apply(this,arguments)}return i}(),addChain:function(){var t=this;this.isEdit=!1,this.formName="添加",this.dialogFormVisible=!0,this.getChainCoin(),this.$nextTick((function(){t.$refs["chainForm"].resetFields();var i=Object.keys(t.chainForm);i.forEach((function(i){t.chainForm[i]=""})),t.chainForm["status"]=!1}))},confirmOp:function(){var t=this;this.$refs["chainForm"].validate(function(){var i=Object(o["a"])(regeneratorRuntime.mark((function i(e){var a,n,o,s,c,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e){i.next=16;break}if(a=t.chainForm,n=a.id,o=a.status,a.dayTime,a.nightTime,s=Object(r["a"])(Object(r["a"])({},t.chainForm),{},{status:o?1:0}),t.btnLoading=!0,n){i.next=10;break}return i.next=7,u["a"].apiAddHotWalletExtract(Object(r["a"])({},s));case 7:i.t0=i.sent,i.next=13;break;case 10:return i.next=12,u["a"].apiEditHotWalletExtract(Object(r["a"])(Object(r["a"])({},s),{},{id:n}));case 12:i.t0=i.sent;case 13:c=i.t0,c&&(l=n?"编辑成功":"新增成功",t.$message({message:l,type:"success"}),t.dialogFormVisible=!1,t.getList()),t.btnLoading=!1;case 16:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}())},doSearch:function(t){this.current_page=1,this.search_params_obj=t,this.getList()},doReset:function(){this.search_params_obj={},this.searchCofig.forEach((function(t){t["value"]=""})),this.getList()},goPage:function(t){this.current_page=t,this.getList()},getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var i,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.listLoading){t.next=2;break}return t.abrupt("return");case 2:return i={},Object.assign(i,this.search_params_obj),this.listLoading=!0,t.next=7,u["a"].apiGetHotWalletExtractList(i);case 7:e=t.sent,e?(this.list=e.data.data.map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{isStatus:Boolean(t.status)})})),this.listLoading=!1):this.listLoading=!1;case 9:case"end":return t.stop()}}),t,this)})));function i(){return t.apply(this,arguments)}return i}(),getChainCoin:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var i,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].apiGetChainCoinList({});case 2:if(i=t.sent,i)for(e in this.chainCoinObj=i.data.data,this.chainCoinObj)this.chainList.push({label:e,value:e});case 4:case"end":return t.stop()}}),t,this)})));function i(){return t.apply(this,arguments)}return i}()}},m=d,f=(e("4c9d"),e("2877")),p=Object(f["a"])(m,a,n,!1,null,"ca6aae44",null);i["default"]=p.exports},f576:function(t,i,e){"use strict";var a=e("5ca1"),n=e("2e08"),r=e("a25f"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);a(a.P+a.F*o,"String",{padStart:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0,!0)}})}}]);