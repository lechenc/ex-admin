(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30dffb52"],{"457f":function(e,t,a){"use strict";a("7f12")},"7f12":function(e,t,a){},e19d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orderGlobal-container"},[a("div",{staticClass:"container-top"},[a("span",[e._v("法币设置")]),e._v(" "),a("div",[a("div",{staticClass:"coin"},[e._v("币种")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"medium",disabled:!e.isCoinDealerModify},on:{change:e.getOtcCoinConfigInfo},model:{value:e.filterForm.coinName,callback:function(t){e.$set(e.filterForm,"coinName",t)},expression:"filterForm.coinName"}},e._l(e.coinlist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.label}})})),1)],1)]),e._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"box-card-con"},[a("H5",[e._v("币商接单额度设置")]),e._v(" "),a("el-form",{ref:"coinDealForm",attrs:{model:e.coinDealForm,rules:e.coinDealFormRules,"label-width":"160px",size:"medium"}},[a("el-form-item",{attrs:{label:"全局买币范围",prop:"sysMatchMin","label-width":e.labelWidth}},[a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isCoinDealerModify},model:{value:e.coinDealForm.sysMatchMin,callback:function(t){e.$set(e.coinDealForm,"sysMatchMin",t)},expression:"coinDealForm.sysMatchMin"}},[a("div",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.filterForm.coinName))])])],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("div",{staticClass:"dot"},[e._v("+")])]),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isCoinDealerModify},model:{value:e.coinDealForm.sysMatchMax,callback:function(t){e.$set(e.coinDealForm,"sysMatchMax",t)},expression:"coinDealForm.sysMatchMax"}},[a("div",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.filterForm.coinName))])])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"全局卖币范围",prop:"sysCashoutMin","label-width":e.labelWidth}},[a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isCoinDealerModify},model:{value:e.coinDealForm.sysCashoutMin,callback:function(t){e.$set(e.coinDealForm,"sysCashoutMin",t)},expression:"coinDealForm.sysCashoutMin"}},[a("div",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.filterForm.coinName))])])],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("div",{staticClass:"dot"},[e._v("+")])]),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isCoinDealerModify},model:{value:e.coinDealForm.sysCashoutMax,callback:function(t){e.$set(e.coinDealForm,"sysCashoutMax",t)},expression:"coinDealForm.sysCashoutMax"}},[a("div",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.filterForm.coinName))])])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"全局资产证明额度",prop:"assetCertification","label-width":e.labelWidth}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isCoinDealerModify},model:{value:e.coinDealForm.assetCertification,callback:function(t){e.$set(e.coinDealForm,"assetCertification",t)},expression:"coinDealForm.assetCertification"}},[a("el-select",{staticClass:"selectPayType",attrs:{slot:"prepend",placeholder:"请选择"},on:{change:e.assetCertificationChange},slot:"prepend",model:{value:e.coinDealForm.payType,callback:function(t){e.$set(e.coinDealForm,"payType",t)},expression:"coinDealForm.payType"}},e._l(e.OtcPayList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.description,value:e.value}})})),1),e._v(" "),a("div",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.filterForm.coinName))])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"宝转卡接入单限制:",prop:"atobLimitNum","label-width":e.labelWidth}},[e._v("\n          每张卡24小时内允许接  \n          "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",disabled:!e.isCoinDealerModify},model:{value:e.coinDealForm.atobLimitNum,callback:function(t){e.$set(e.coinDealForm,"atobLimitNum",t)},expression:"coinDealForm.atobLimitNum"}}),e._v("\n           笔单\n        ")],1),e._v(" "),a("el-form-item",{attrs:{label:"","label-width":e.labelWidth}},[a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isCoinDealerModify},model:{value:e.coinDealForm.atobLimitMin,callback:function(t){e.$set(e.coinDealForm,"atobLimitMin",t)},expression:"coinDealForm.atobLimitMin"}},[a("div",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.filterForm.coinName))])])],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("div",{staticClass:"dot"},[e._v("+")])]),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isCoinDealerModify},model:{value:e.coinDealForm.atobLimitMax,callback:function(t){e.$set(e.coinDealForm,"atobLimitMax",t)},expression:"coinDealForm.atobLimitMax"}},[a("div",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.filterForm.coinName))])])],1)],1)],1)],1),e._v(" "),e.isCURDAuth?a("div",[e.isCoinDealerModify?e._e():a("div",{staticClass:"middle"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.isCoinDealerModify=!0}}},[e._v("修改")])],1),e._v(" "),e.isCoinDealerModify?a("div",{staticClass:"middle"},[a("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:function(t){e.isCoinDealerModify=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.confirmCoinDealer}},[e._v("提交修改")])],1):e._e()]):e._e()]),e._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"box-card-con"},[a("H5",[e._v("返佣设置")]),e._v(" "),a("el-form",{ref:"rebateForm",attrs:{model:e.rebateForm,rules:e.rebateFormRules,"label-width":"160px",size:"medium"}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"全局最大买币返佣比例",prop:"totalBuyRate"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isRebateModify},model:{value:e.rebateForm.totalBuyRate,callback:function(t){e.$set(e.rebateForm,"totalBuyRate",t)},expression:"rebateForm.totalBuyRate"}},[a("div",{staticClass:"gcode",attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"next-text"},[e._v("设置后三级返佣比例之和不可超过该值")])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"全局最大卖币返佣比例",prop:"totalSaleRate"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isRebateModify},model:{value:e.rebateForm.totalSaleRate,callback:function(t){e.$set(e.rebateForm,"totalSaleRate",t)},expression:"rebateForm.totalSaleRate"}},[a("div",{staticClass:"gcode",attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"next-text"},[e._v("设置后三级返佣比例之和不可超过该值")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"支付通道"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:!e.isRebateModify},model:{value:e.rebateForm.payType,callback:function(t){e.$set(e.rebateForm,"payType",t)},expression:"rebateForm.payType"}},[a("el-option",{attrs:{label:"银行卡",value:1}}),e._v(" "),a("el-option",{attrs:{label:"支付宝",value:2}}),e._v(" "),a("el-option",{attrs:{label:"微信",value:3}}),e._v(" "),a("el-option",{attrs:{label:"宝转卡",value:4}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"返佣等级"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:!e.isRebateModify},model:{value:e.rebateForm.rank,callback:function(t){e.$set(e.rebateForm,"rank",t)},expression:"rebateForm.rank"}},[a("el-option",{attrs:{label:"一级反佣",value:1}}),e._v(" "),a("el-option",{attrs:{label:"二级反佣",value:2}}),e._v(" "),a("el-option",{attrs:{label:"三级反佣",value:3}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"默认返佣卖币返佣比例",prop:"saleRate"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isRebateModify},model:{value:e.rebateForm.saleRate,callback:function(t){e.$set(e.rebateForm,"saleRate",t)},expression:"rebateForm.saleRate"}},[a("div",{staticClass:"gcode",attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"默认返佣买币返佣比例",prop:"buyRate"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!e.isRebateModify},model:{value:e.rebateForm.buyRate,callback:function(t){e.$set(e.rebateForm,"buyRate",t)},expression:"rebateForm.buyRate"}},[a("div",{staticClass:"gcode",attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1)],1)],1)],1)],1),e._v(" "),e.isCURDAuth?a("div",[e.isRebateModify?e._e():a("div",{staticClass:"middle"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.isRebateModify=!0}}},[e._v("修改")])],1),e._v(" "),e.isRebateModify?a("div",{staticClass:"middle"},[a("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:function(t){e.isRebateModify=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"medium",loading:e.btnLoading},on:{click:e.confirmRebate}},[e._v("提交修改")])],1):e._e()]):e._e()])],1)},o=[],s=(a("ac6a"),a("7f7f"),a("96cf"),a("1da1")),l=a("4ec3"),r=(a("ca00"),{data:function(){return{isCURDAuth:!0,btnLoading:!1,isRebateModify:!1,isCoinDealerModify:!1,isCashAuth:!1,listLoading:!1,list:[],dataList:[],labelWidth:"150px",dataObj:{},coinlist:[],filterForm:{coinName:"USDT"},OtcPayList:[],coinDealForm:{coinId:"",deposit:"",otcFee:"",sysMatchMin:"",sysMatchMax:"",sysCashoutMin:"",sysCashoutMax:"",payType:1,assetCertification:1,atobLimitNum:"",atobLimitMin:"",atobLimitMax:""},coinDealFormRules:{},rebateForm:{buyRate:null,payType:1,rank:1,saleRate:null,totalBuyRate:.1,totalSaleRate:.1},rebateFormRules:{}}},methods:{getCoinLabel:function(e){},confirmCoinDealer:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["coinDealForm"].validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){var i,o,s,r,n,c,p,u,d,m,b,f,y,v,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return i=t.coinDealForm,o=i.atobLimitNum,s=i.atobLimitMin,r=i.atobLimitMax,n=i.payType,c=i.assetCertification,p=i.sysMatchMin,u=i.sysMatchMax,d=i.sysCashoutMin,m=i.sysCashoutMax,b=i.coinId,f=i.deposit,y=i.otcFee,v={coinId:b,deposit:f,otcFee:y,sysMatchMin:p,sysMatchMax:u,sysCashoutMin:d,sysCashoutMax:m,assetCertification:c,payType:n,atobLimitNum:o,atobLimitMin:s,atobLimitMax:r},e.next=5,l["a"].UpdateOtcCoinConfig(v);case 5:h=e.sent,h&&(t.$message({message:"修改成功",type:"success"}),t.getOtcCoinConfigInfo(),t.isCoinDealerModify=!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmRebate:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["rebateForm"].validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return t.rebateForm.name,i={buyRate:Math.floor(100*t.rebateForm.buyRate)/1e4,saleRate:Math.floor(100*t.rebateForm.saleRate)/1e4,totalBuyRate:Math.floor(100*t.rebateForm.totalBuyRate)/1e4,totalSaleRate:Math.floor(100*t.rebateForm.totalSaleRate)/1e4,payType:t.rebateForm.payType,rank:t.rebateForm.payType},t.btnLoading=!0,e.next=6,l["a"].updateDefaultRate(i);case 6:o=e.sent,o&&(t.$message({message:"修改成功",type:"success"}),t.getDefaultRateInfo(),t.isRebateModify=!1),t.btnLoading=!1;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDefaultRateInfo:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={payType:this.rebateForm.payType,rank:this.rebateForm.rank},e.next=3,l["a"].getDefaultRate(t);case 3:a=e.sent,a&&(this.rebateForm={buyRate:Math.floor(1e4*a.data.result.buyRate)/100,payType:a.data.result.payType,rank:a.data.result.rank,saleRate:Math.floor(1e4*a.data.result.saleRate)/100,totalBuyRate:Math.floor(1e4*a.data.result.totalBuyRate)/100,totalSaleRate:Math.floor(1e4*a.data.result.totalSaleRate)/100});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getOtcCoinConfigInfo:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,i,o,s,r,n,c,p,u,d,m,b,f,y=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={coinName:this.filterForm.coinName},e.next=3,l["a"].queryOtcCoinConfig(t);case 3:a=e.sent,a&&(i=a.data.result,o=i.coinInfo,s=i.atobLimitNum,r=i.atobLimitMin,n=i.atobLimitMax,c=o.sysMatchMin,p=o.sysMatchMax,u=o.sysCashoutMin,d=o.sysCashoutMax,m=o.coinId,b=o.deposit,f=o.otcFee,a.data.result.OtcPayList&&a.data.result.OtcPayList.length>0&&a.data.result.OtcPayList.forEach((function(e,t){y.OtcPayList.push({description:e.description,value:1*e.payType,assetCertification:e.assetCertification})})),this.coinDealForm={coinId:m,deposit:b,otcFee:f,sysMatchMin:c,sysMatchMax:p,sysCashoutMin:u,sysCashoutMax:d,payType:this.OtcPayList[0].value,assetCertification:this.OtcPayList[0].assetCertification,atobLimitNum:s,atobLimitMin:r,atobLimitMax:n});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),assetCertificationChange:function(e){this.coinDealForm.assetCertification=this.OtcPayList[e-1].assetCertification}},mounted:function(){var e=this;this.$store.dispatch("common/getFiatCoinList").then((function(){e.coinlist=e.$store.state.common.fiatcoinlist})),this.getOtcCoinConfigInfo(),this.getDefaultRateInfo()}}),n=r,c=(a("457f"),a("2877")),p=Object(c["a"])(n,i,o,!1,null,null,null);t["default"]=p.exports}}]);