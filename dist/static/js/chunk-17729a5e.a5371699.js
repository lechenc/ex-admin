(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17729a5e"],{1637:function(t,e,a){},f2fe:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notice-container"},[a("div",{staticClass:"container-top"},[a("Bsearch",{attrs:{configs:t.searchConfig,calText:"合约统计",excelLoading:t.excelLoading,exportExcel:!0,calTotal:!0},on:{"do-search":t.doSearch,"do-reset":t.doReset,"do-exportExcel":t.exportExcel,"do-calTotal":t.calTotal}})],1),t._v(" "),a("div",{staticClass:"notice-button"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.create}},[t._v("创建")])],1),t._v(" "),a("div",[a("Btable",{attrs:{listLoading:t.listLoading,data:t.list,configs:t.configs},on:{"do-handle":t.doHandle}})],1),t._v(" "),a("div",{staticClass:"container-footer"},[a("icon-page",{attrs:{total:t.total,pages:t.pages}}),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":t.current_page,"page-size":t.pageSize,total:t.total},on:{"current-change":t.goPage}})],1),t._v(" "),a("el-Dialog",{attrs:{visible:t.createDialog,title:"创建特殊调整",width:"700px"},on:{"update:visible":function(e){t.createDialog=e}}},[a("el-form",{ref:"form",staticStyle:{width:"90%","padding-left":"15px"},attrs:{model:t.form,"label-width":"160px",rules:t.rules}},[a("el-form-item",{attrs:{label:"账户类型",prop:"accountType"}},[a("el-select",{attrs:{placeholder:"请选择",width:"20%"},model:{value:t.form.accountType,callback:function(e){t.$set(t.form,"accountType",e)},expression:"form.accountType"}},t._l(t.accountTypeObj,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"币对",prop:"coinName"}},[a("el-select",{attrs:{placeholder:"请选择",width:"20%"},model:{value:t.form.coinName,callback:function(e){t.$set(t.form,"coinName",e)},expression:"form.coinName"}},t._l(t.symbollist,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.label}})})),1)],1),t._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"UID",prop:"uid"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",type:"number"},model:{value:t.form.uid,callback:function(e){t.$set(t.form,"uid",e)},expression:"form.uid"}})],1)],1),t._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调账数量",prop:"amount"}},[a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{size:"small",placeholder:"请选择",width:"20%"},model:{value:t.form.plus,callback:function(e){t.$set(t.form,"plus",e)},expression:"form.plus"}},t._l(t.plusObj,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.label}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:19}},[a("el-input",{attrs:{size:"small",type:"text",placeholder:"请输入"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调账原因"}},[a("el-input",{attrs:{placeholder:"请输入",type:"textarea"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"comfirn-btn footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:t.btnLoading},on:{click:t.createConfirm}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(e){t.createDialog=!1}}},[t._v("取消")])],1)],1),t._v(" "),a("el-Dialog",{staticClass:"totalDialog",attrs:{visible:t.totalDialog,title:"统计结果",width:"400px"},on:{"update:visible":function(e){t.totalDialog=e}}},[a("el-row",{staticClass:"myrow",attrs:{span:24}},[a("el-col",{attrs:{span:6}},[t._v(" UID: ")]),t._v(" "),a("el-col",{attrs:{span:15}},[t._v(t._s(t.totalObj.uid||"无")+" ")])],1),t._v(" "),a("el-row",{staticClass:"myrow",attrs:{span:24}},[a("el-col",{attrs:{span:6}},[t._v(" 币对: ")]),t._v(" "),a("el-col",{attrs:{span:15}},[t._v(" "+t._s(t.myCoinName||"无")+" ")])],1),t._v(" "),a("el-row",{staticClass:"myrow",attrs:{span:24}},[a("el-col",{attrs:{span:6}},[t._v(" 状态: ")]),t._v(" "),a("el-col",{attrs:{span:15}},[t._v(t._s(t.tradeStatusObj[t.totalObj.tradeStatus]||"无")+" ")])],1),t._v(" "),a("el-row",{staticClass:"myrow",attrs:{span:24}},[a("el-col",{attrs:{span:6}},[t._v(" 数量: ")]),t._v(" "),a("el-col",{attrs:{span:15}},[t._v(t._s(t.totalObj.amount||0)+" ")])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.totalDialog=!1}}},[t._v("确定")])],1)],1),t._v(" "),a("el-Dialog",{staticClass:"totalDialog msgDialog",attrs:{visible:t.msgDialog,title:t.title,width:"700px"},on:{"update:visible":function(e){t.msgDialog=e}}},[a("el-row",{staticClass:"myrow",attrs:{span:24}},[a("el-col",{attrs:{span:4}},[t._v(" 订单号: ")]),t._v(" "),a("el-col",{attrs:{span:8}},[t._v(t._s(t.infoObj.orderNo||"无")+" ")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v(" UID: ")]),t._v(" "),a("el-col",{attrs:{span:8}},[t._v(t._s(t.infoObj.uid||"无")+" ")])],1),t._v(" "),a("el-row",{staticClass:"myrow",attrs:{span:24}},[a("el-col",{attrs:{span:4}},[t._v(" 账户类型: ")]),t._v(" "),a("el-col",{attrs:{span:15}},[t._v(t._s(t.tradeStatusObj[t.infoObj.tradeStatus]||"无")+" ")])],1),t._v(" "),a("el-row",{staticClass:"myrow",attrs:{span:24}},[a("el-col",{attrs:{span:4}},[t._v(" 币种: ")]),t._v(" "),a("el-col",{attrs:{span:15}},[t._v(" "+t._s(t.infoObj.coinName||"无")+" ")])],1),t._v(" "),a("el-row",{staticClass:"myrow",attrs:{span:24}},[a("el-col",{attrs:{span:4}},[t._v(" 调账数量: ")]),t._v(" "),a("el-col",{attrs:{span:15}},[t._v(t._s(t.infoObj.amount||0)+" ")])],1),t._v(" "),a("el-row",{staticClass:"myrow",attrs:{span:24}},[a("el-col",{attrs:{span:4}},[t._v(" 申请时间: ")]),t._v(" "),a("el-col",{attrs:{span:8}},[t._v(t._s(t.infoObj.applyTime||"无")+" ")])],1),t._v(" "),a("el-row",{staticClass:"myrow",attrs:{span:24}},[a("el-col",{attrs:{span:4}},[t._v(" 审核时间: ")]),t._v(" "),a("el-col",{attrs:{span:8}},[t._v(t._s(t.infoObj.auditTime||"无")+" ")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v(" 审核人: ")]),t._v(" "),a("el-col",{attrs:{span:8}},[t._v(t._s(t.infoObj.auditUserName||"无")+" ")])],1),t._v(" "),a("el-row",{staticClass:"myrow",attrs:{span:24}},[a("el-col",{attrs:{span:4}},[t._v(" 调账原因: ")]),t._v(" "),a("el-col",{attrs:{span:15}},[t._v(t._s(t.infoObj.reason||"无")+" ")])],1),t._v(" "),a("div",{staticClass:"msgDialog-footer",attrs:{slot:"footer"},slot:"footer"},[1==t.sureType?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.msgDialog=!1}}},[t._v(" 确定 ")]):2==t.sureType?a("el-button",{on:{click:function(e){t.msgDialog=!1}}},[t._v(" 取消 ")]):t._e(),t._v(" "),1==t.confirmType?a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.passCancelConfirm(1)}}},[t._v(" 审核通过 ")]):2==t.confirmType?a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.passCancelConfirm(2)}}},[t._v(" 审核驳回 ")]):t._e()],1)],1)],1)},r=[],i=(a("a481"),a("ac6a"),a("96cf"),a("3b8d")),o=a("c249"),n=a("2fee"),l=a("f21b"),c=a("e8f8"),u=a("4ec3"),p=a("ca00"),m={name:"columnMimic",components:{Btable:n["a"],Bsearch:o["a"],iconPage:l["a"]},data:function(){return{confirmType:"",sureType:"",msgDialog:!1,title:"订单详情",myCoinName:"",tradeStatusObj:{0:"待审核",1:"成功",2:"失败"},totalObj:{},symbollist:[],accountTypeObj:[{label:"分析师实盘合约账户",value:7}],plusObj:[{label:"+",value:"+"}],form:{accountType:"",coinName:"",uid:"",amount:"",reason:"",plus:"+"},toDay:"",ago:"",infoObj:{},rules:{accountType:[{required:!0,message:"请输入",trigger:"blur"}],coinName:[{required:!0,message:"请输入",trigger:"blur"}],uid:[{required:!0,message:"请输入",trigger:"blur"}],amount:[{required:!0,message:"请输入",trigger:"blur"}]},createDialog:!1,btnLoading:!1,listLoading:!1,list:[],configs:[],searchConfig:[],search_params_obj:{},current_page:1,pages:0,pageSize:10,total:0,detail_list:[],row:{},excelLoading:!1,delBtnLoading:!1,dataList:[],totalDialog:!1,passCancelId:""}},watch:{createDialog:function(t){t||(this.form={accountType:"",coinName:"",uid:"",amount:"",reason:"",plus:"+"})}},methods:{passCancelConfirm:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={orderNo:this.passCancelId,tradeStatus:e},t.next=3,u["a"].passCancelAccountMimic(a);case 3:s=t.sent,s&&(this.$message.success("操作成功"),this.msgDialog=!1,this.getList());case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),doHandle:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.fn,s=e.row,this.passCancelId=s.orderNo,"detail"==a&&(this.title="订单详情",this.sureType=1,this.msgDialog=!0,this.infoObj=s),"pass"==a&&(this.title="审核通过",this.sureType=2,this.confirmType=1,this.msgDialog=!0,this.infoObj=s),"cancel"==a&&(this.title="审核驳回",this.sureType=2,this.confirmType=2,this.msgDialog=!0,this.infoObj=s);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),exportExcel:function(t){this.search_params_obj=t.query;var e=t.num;p["a"].exportData.apply(this,[e])},calTotal:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,s,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.totalDialog=!0,this.search_params_obj=e,t.next=4,u["a"].getAccountMimicTotal(this.search_params_obj);case 4:a=t.sent,this.totalObj=a.data.data,s="",s=this.symbollist.filter((function(t){return t["value"]==r.totalObj.coinId}))[0].label,this.myCoinName=s;case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),queryData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.excelLoading=!0,Object.assign(e,this.search_params_obj),t.next=4,u["a"].getAccountMimicList(e);case 4:return a=t.sent,this.excelLoading=!1,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),uploadError:function(){this.$message.error("图片上传失败")},exceed:function(t,e){this.$message.error("单次只能选择一张图片进行上传！")},uploadIcon:function(t,e,a){if(!t.data)return this.$message.error("图片上传失败"),void this.$refs.iconDot.clearFiles();this.form.iconUrl=t.data[0].url,this.$refs.iconDot.handleRemove(e),this.$refs.iconDot.clearFiles()},createConfirm:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$refs.form.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var s,r,i,o,n,l,c,p,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=15;break}return s=e.form,r=s.accountType,i=s.coinName,o=s.uid,n=s.amount,l=s.reason,c="",c=e.symbollist.filter((function(t){return t["label"]==i}))[0].value,e.search_params_obj.coinMarket=c,p={accountType:r,coinId:c,coinName:i,uid:o,amount:n},l&&(p.reason=l),e.btnLoading=!0,t.next=10,u["a"].addAccountMimic(p);case 10:m=t.sent,m&&(e.$message({message:"新增成功",type:"success"}),e.createDialog=!1,e.getList()),e.btnLoading=!1,t.next=16;break;case 15:e.$message.error({title:"提示",message:"请完成表单内容填写再重试"});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),doSearch:function(t){this.current_page=1,this.search_params_obj=t,this.getList()},doReset:function(){this.search_params_obj={},this.searchConfig.forEach((function(t){t["value"]=""})),this.getList()},create:function(){this.createDialog=!0},goPage:function(t){this.current_page=t,this.getList()},requiredParams:function(t){if(this.$util.isEmptyObject(this.search_params_obj)){var e=this.$util.dateFormat(this.ago,"YYYY/MM/DD HH:mm:ss"),a=this.$util.dateFormat(this.toDay,"YYYY/MM/DD HH:mm:ss");t.endTime=a.replace(/\//gi,"-"),t.startTime=e.replace(/\//gi,"-"),this.searchConfig[0].value=[e,a]}this.search_params_obj.startTime&&(this.search_params_obj.endTime=this.formatTime(this.search_params_obj.endTime),this.search_params_obj.startTime=this.formatTime(this.search_params_obj.startTime))},getSymbolList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("common/getSymbolMimicListAnalyst").then((function(){e.symbollist=e.$store.state.common.symbolMimicListAnalyst,e.searchConfig[2]["list"]=e.symbollist}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),formatTime:function(t){return~(t+"").indexOf("-")?t:t.replace(/\//gi,"-")},getList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r,i,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.listLoading){t.next=2;break}return t.abrupt("return");case 2:return this.listLoading=!0,this,e={pageNum:this.current_page,pageSize:this.pageSize},Object.assign(e,this.search_params_obj),t.next=8,u["a"].getAccountMimicList(e);case 8:a=t.sent,a&&(s=a.data.data,r=s.records,i=s.current,o=s.total,n=s.pages,this.total=o,this.pages=n,r.forEach((function(t){t["isclick"]=0!==parseInt(t["tradeStatus"])})),this.current_page=i,this.list=r),this.listLoading=!1;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.configs=c["a"],this.searchConfig=this.$util.clone(c["b"]),this.toDay=this.$util.diyTime("toDay"),this.ago=this.$util.diyTime("ago"),this.getList(),this.getSymbolList()}},f=m,h=(a("fcc3"),a("0c7c")),g=Object(h["a"])(f,s,r,!1,null,null,null);e["default"]=g.exports},fcc3:function(t,e,a){"use strict";var s=a("1637"),r=a.n(s);r.a}}]);