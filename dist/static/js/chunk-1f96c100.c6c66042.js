(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f96c100"],{"12b1":function(t,e,i){},"26bd":function(t,e,i){"use strict";var r=i("12b1"),n=i.n(r);n.a},b890:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"voucherParameters-container"},[i("el-card",{staticClass:"box-card"},[i("el-button",{attrs:{type:"primary"},on:{click:t.addType}},[t._v(" 添加新类型 ")]),t._v(" "),i("el-form",{ref:"form",attrs:{model:t.form1,rules:t.rules,size:"medium"}},[i("div",{staticClass:"box-card-con"},[i("H5",[t._v("条件十二: 贵族会员福利")]),t._v(" "),i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"需入金量达到USDT：",prop:"incomeAmount","label-width":t.labelWidth}},[i("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!t.isModify1},on:{input:function(e){return t.checkVal("incomeAmount","noDot")}},model:{value:t.form1.incomeAmount,callback:function(e){t.$set(t.form1,"incomeAmount",e)},expression:"form1.incomeAmount"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"需开仓交易额USDT：",prop:"openPositionAmount","label-width":t.labelWidth}},[i("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!t.isModify1},on:{input:function(e){return t.checkVal("openPositionAmount","noDot")}},model:{value:t.form1.openPositionAmount,callback:function(e){t.$set(t.form1,"openPositionAmount",e)},expression:"form1.openPositionAmount"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"可获得邀请名额",prop:"inviteNumber","label-width":t.labelWidth}},[i("el-input",{attrs:{type:"text",placeholder:"请输入",disabled:!t.isModify1},on:{input:function(e){return t.checkVal("inviteNumber","noDot")}},model:{value:t.form1.inviteNumber,callback:function(e){t.$set(t.form1,"inviteNumber",e)},expression:"form1.inviteNumber"}})],1)],1)],1)],1),t._v(" "),t.isCURDAuth?i("div",[t.isModify1?t._e():i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.isModify1=!0}}},[t._v("修改")])],1),t._v(" "),t.isModify1?i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:t.cancelSend1}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"medium",loading:t.confirmLoading},on:{click:function(e){return t.confirmSend(t.form1)}}},[t._v("提交修改")])],1):t._e()]):t._e()]),t._v(" "),t._l(t.formArr2,(function(e,r){return i("div",{key:e.myKey,staticClass:"con"},[i("el-form",{ref:"form",refInFor:!0,attrs:{model:e,rules:t.netCashRules}},[i("H5",{domProps:{textContent:t._s(e.conditionName="条件十三: 代理净入金"+(r+1))}}),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{required:!0,label:"关联代理UID","label-width":t.labelWidth}},[i("el-input",{attrs:{disabled:!t.isModify2,rows:"3",type:"textarea",placeholder:"请输入代理UID,以逗号隔开"},on:{input:function(t){e.agentUid=e.agentUid.replace(/[^\d,]/g,"")}},model:{value:e.agentUid,callback:function(i){t.$set(e,"agentUid","string"===typeof i?i.trim():i)},expression:"form.agentUid"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:16}},[t._l(e.triggerVOS,(function(e,n){return i("el-row",{key:n},[i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{required:!0,label:n+1+" 累计净划入","label-width":"180px"}},[i("el-select",{attrs:{disabled:!t.isModify2,placeholder:"请选择"},model:{value:t.coinName,callback:function(e){t.coinName=e},expression:"coinName"}},t._l(t.symbollist,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.label}})})),1)],1)],1),t._v(" "),i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{required:!0,label:"达到USDT","label-width":t.labelWidth}},[i("el-input",{attrs:{disabled:!t.isModify2,type:"text",placeholder:"请输入"},on:{input:function(t){e.netIncomeTargetAmount=e.netIncomeTargetAmount.replace(/[^\d]/g,"")}},model:{value:e.netIncomeTargetAmount,callback:function(i){t.$set(e,"netIncomeTargetAmount","string"===typeof i?i.trim():i)},expression:"fl.netIncomeTargetAmount"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:4}},[i("el-button",{staticStyle:{"margin-left":"20px","margin-top":"5px"},attrs:{disabled:!t.isModify2,size:"small",round:"",plain:"",type:"danger"},on:{click:function(e){return e.stopPropagation(),t.delTriggerIdList("formArr2",r,n)}}},[t._v("删除")])],1)],1)})),t._v(" "),i("el-row",{staticClass:"type-middle"},[i("el-button",{attrs:{disabled:!t.isModify2,type:"primary",size:"medium"},on:{click:function(e){return t.addNetCash("formArr2",r,1)}}},[t._v("+添加")])],1)],2)],1),t._v(" "),t.isCURDAuth?i("div",[t.isModify2?t._e():i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.isModify2=!0}}},[t._v("修改")])],1),t._v(" "),t.isModify2?i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:t.cancelSend2}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"medium",loading:t.confirmLoading},on:{click:function(i){return t.confirmSend(e)}}},[t._v("提交修改")])],1):t._e()]):t._e()],1)],1)})),t._v(" "),t._l(t.formArr3,(function(e,r){return i("div",{key:e.myKey,staticClass:"con"},[i("el-form",{ref:"form",refInFor:!0,attrs:{model:e,rules:t.netCashRules}},[i("H5",{domProps:{textContent:t._s(e.conditionName="条件十四: 直推邀请"+(r+1))}}),t._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[t._l(e.triggerVOS,(function(e,n){return i("el-row",{key:n},[i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{required:!0,label:n+1+" 邀请直推新用户数量","label-width":"200px"}},[i("el-input",{attrs:{disabled:!t.isModify3,type:"text",placeholder:"请输入"},on:{input:function(t){e.lowNumber=e.lowNumber.replace(/[^\d]/g,"")}},model:{value:e.lowNumber,callback:function(i){t.$set(e,"lowNumber","string"===typeof i?i.trim():i)},expression:"fl.lowNumber"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{required:!0,label:"需完成开仓交易额USDT：","label-width":"200px"}},[i("el-input",{attrs:{disabled:!t.isModify3,type:"text",placeholder:"请输入"},on:{input:function(t){e.tradeTargetAmount=e.tradeTargetAmount.replace(/[^\d]/g,"")}},model:{value:e.tradeTargetAmount,callback:function(i){t.$set(e,"tradeTargetAmount","string"===typeof i?i.trim():i)},expression:"fl.tradeTargetAmount"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-button",{staticStyle:{"margin-left":"20px","margin-top":"5px"},attrs:{disabled:!t.isModify3,size:"small",round:"",plain:"",type:"danger"},on:{click:function(e){return e.stopPropagation(),t.delTriggerIdList("formArr3",r,n)}}},[t._v("删除")])],1)],1)})),t._v(" "),i("el-row",{staticClass:"type-middle"},[i("el-button",{attrs:{disabled:!t.isModify3,type:"primary",size:"medium"},on:{click:function(e){return t.addNetCash("formArr3",r,2)}}},[t._v("+添加")])],1)],2)],1),t._v(" "),t.isCURDAuth?i("div",[t.isModify3?t._e():i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.isModify3=!0}}},[t._v("修改")])],1),t._v(" "),t.isModify3?i("div",{staticClass:"middle"},[i("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:t.cancelSend3}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"medium",loading:t.confirmLoading},on:{click:function(i){return t.confirmSend(e)}}},[t._v("提交修改")])],1):t._e()]):t._e()],1)],1)})),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible,width:"500px",title:"添加新类型"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":t.labelWidth,rules:t.addRules}},[i("el-form-item",{attrs:{label:"类型",prop:"type"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addForm.type,callback:function(e){t.$set(t.addForm,"type",e)},expression:"addForm.type"}},t._l(t.addTypeList,(function(t){return i("el-option",{key:t.index,attrs:{label:t.label,value:t.index}})})),1)],1)],1),t._v(" "),i("div",{staticClass:"inner-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-right":"10px"},on:{click:function(e){e.stopPropagation(),t.dialogVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.confirmAdd(e)}}},[t._v("确定")])],1)],1)],2)],1)},n=[],o=(i("ac6a"),i("96cf"),i("3b8d")),a=i("4ec3"),s=(i("ca00"),{data:function(){return{form1:{id:"",openPositionAmount:"",incomeAmount:"",inviteNumber:"",content:"",agentUid:"",conditionName:"",activityType:5},coinName:"BTCUSDT",dialogVisible:!1,isCURDAuth:!0,isModify1:!1,isModify2:!1,isModify3:!1,listLoading:!1,confirmLoading:!1,list:[],labelWidth:"140px",formArr1:[],formArr2:[],formArr3:[],rules:{incomeAmount:[{required:!0,message:"必填",trigger:"blur"}],inviteNumber:[{required:!0,message:"必填",trigger:"blur"}],openPositionAmount:[{required:!0,message:"必填",trigger:"blur"}]},symbollist:[],netCashRules:{},addForm:{},addRules:{type:[{required:!0,message:"必填",trigger:"blur"}]},addTypeList:[{label:"代理净入金",value:1,index:0,arr:"formArr2",isModify:"isModify2"},{label:"直推邀请",value:2,index:1,arr:"formArr3",isModify:"isModify3"}]}},methods:{delTriggerIdList:function(t,e,i){this[t][e].triggerVOS.splice(i,1)},confirmAdd:function(){var t=this;this.$refs["addForm"].validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(i){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i&&(r=t.addForm.type,t[t.addTypeList[r].arr].push({id:"",myKey:(new Date).getTime(),openPositionAmount:"",conditionName:"",incomeAmount:"",inviteNumber:"",content:"",agentUid:"",activityType:t.addTypeList[r].value,triggerVOS:[{netIncomeTargetAmount:"",lowNumber:"",triggerCondition:"",tradeTargetAmount:"",activityType:t.addTypeList[r].value,triggerType:t.addTypeList[r].value}]}),t.dialogVisible=!1,t[t.addTypeList[r].isModify]=!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},addType:function(){var t=this;this.dialogVisible=!0,this.$nextTick((function(){t.addForm={type:""}}))},addNetCash:function(t,e,i){console.log("index",e),this[t][e].triggerVOS.push({netIncomeTargetAmount:"",lowNumber:"",triggerCondition:"",tradeTargetAmount:"",activityType:i,triggerType:i})},cancelSend1:function(){this.isModify1=!1,this.getList()},cancelSend2:function(){this.isModify2=!1,this.getList()},cancelSend3:function(){this.isModify3=!1,this.getList()},checkVal:function(t,e){},getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.listLoading){t.next=2;break}return t.abrupt("return");case 2:return e={},this.listLoading=!0,t.next=6,a["a"].getAllTriggerConditionNew(e);case 6:i=t.sent,i&&(r=i.data.data,this.form1=r.filter((function(t){return 5==t.activityType}))[0]||{},this.formArr2=r.filter((function(t){return 1==t.activityType}))||{},this.formArr3=r.filter((function(t){return 2==t.activityType}))||{}),this.listLoading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),confirmSend:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var i,r,n,o,s,l,c,d,u,m,p,f,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.agentUid,r=e.activityType,n=e.triggerVOS,o=e.id,s=e.openPositionAmount,l=e.conditionName,c=e.incomeAmount,d=e.inviteNumber,n&&n.length&&n.forEach((function(t){1==r?t.triggerCondition="累计净划入BTCUSDT合约账户达到".concat(t.netIncomeTargetAmount,"USDT"):2==r&&(t.triggerCondition="邀请".concat(t.lowNumber,"个直推新注册用户，完成一笔≥").concat(t.tradeTargetAmount,"USDT 的合约实盘交易"))})),1!=r){t.next=7;break}if(u=!1,n.some((function(t){t.netIncomeTargetAmount||(u=!0)})),!u){t.next=7;break}return t.abrupt("return",this.$message.error("请完成表格"));case 7:if(2!=r){t.next=12;break}if(m=!1,n.some((function(t){t.lowNumber&&t.tradeTargetAmount||(m=!0)})),!m){t.next=12;break}return t.abrupt("return",this.$message.error("请完成表格"));case 12:if(p={agentUid:i,activityType:r,triggerVOS:n,openPositionAmount:s,conditionName:l,incomeAmount:c,inviteNumber:d},o&&(p.id=o),this.confirmLoading=!0,o){t.next=21;break}return t.next=18,a["a"].addVoucherParameters(p);case 18:t.t0=t.sent,t.next=24;break;case 21:return t.next=23,a["a"].editVoucherParameters(p);case 23:t.t0=t.sent;case 24:f=t.t0,f&&(y="",y=o?"修改成功！":"添加成功！",this.$message({message:y,type:"success"}),this.getList(),1==r?this.isModify2=!1:2==r?this.isModify3=!1:5==r&&(this.isModify1=!1)),this.confirmLoading=!1;case 27:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getSymbolList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("common/getSymbolList").then((function(){var t=[],i=e.$store.state.common.symbollist;i.forEach((function(e){"BTCUSDT"==e.label&&t.push(e)})),e.symbollist=t}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this.$util.getAuthority("VoucherParameters",[],[]);this.isCURDAuth=t.isModify,this.getList()}}),l=s,c=(i("26bd"),i("0c7c")),d=Object(c["a"])(l,r,n,!1,null,null,null);e["default"]=d.exports}}]);