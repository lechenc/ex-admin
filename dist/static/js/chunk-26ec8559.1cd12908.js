(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26ec8559"],{"37f2":function(i,e,t){},8538:function(i,e,t){"use strict";var r=t("37f2"),n=t.n(r);n.a},e9e3:function(i,e,t){"use strict";t.r(e);var r=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{staticClass:"riskConfig-container"},[t("el-row",{staticClass:"sac-row"},[t("el-col",{attrs:{span:4}},[t("el-button",{attrs:{size:"medium",type:"primary",plain:""},on:{click:function(e){return i.$router.go(-1)}}},[i._v("返回")])],1)],1),i._v(" "),t("el-form",{ref:"form",attrs:{model:i.form,rules:i.rules,"label-width":"160px",size:"medium"}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"box-card-con"},[t("H5",[i._v("风控参数配置")]),i._v(" "),t("el-form-item",{attrs:{label:"相同的注册IP人数达到: ",prop:"registerIpLimit","label-width":i.labelWidth}},[t("el-input",{staticStyle:{width:"55%"},attrs:{type:"number",placeholder:"请输入",disabled:!i.isModify},on:{input:function(e){return i.checkVal("registerIpLimit")}},model:{value:i.form.registerIpLimit,callback:function(e){i.$set(i.form,"registerIpLimit",e)},expression:"form.registerIpLimit"}})],1),i._v(" "),t("el-form-item",{attrs:{label:"相同的登录IP人数达到: ",prop:"loginIpLimit","label-width":i.labelWidth}},[t("el-input",{staticStyle:{width:"55%"},attrs:{type:"number",placeholder:"请输入",disabled:!i.isModify},on:{input:function(e){return i.checkVal("loginIpLimit")}},model:{value:i.form.loginIpLimit,callback:function(e){i.$set(i.form,"loginIpLimit",e)},expression:"form.loginIpLimit"}})],1),i._v(" "),t("el-form-item",{attrs:{label:"相同的注册设备号人数达到: ",prop:"registerDeviceLimit","label-width":i.labelWidth}},[t("el-input",{staticStyle:{width:"55%"},attrs:{type:"number",placeholder:"请输入",disabled:!i.isModify},on:{input:function(e){return i.checkVal("registerDeviceLimit")}},model:{value:i.form.registerDeviceLimit,callback:function(e){i.$set(i.form,"registerDeviceLimit",e)},expression:"form.registerDeviceLimit"}})],1),i._v(" "),i.btnArr.includes("detailEdit")?t("div",[i.isModify?i._e():t("div",{staticClass:"middle"},[t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){i.isModify=!0}}},[i._v("编辑")])],1),i._v(" "),i.isModify?t("div",{staticClass:"middle"},[t("el-button",{attrs:{type:"primary",plain:"",size:"medium"},on:{click:function(e){i.isModify=!1}}},[i._v("取消")]),i._v(" "),t("el-button",{attrs:{type:"primary",size:"medium",loading:i.btnLoading},on:{click:i.confirmSend}},[i._v("提交修改")])],1):i._e()]):i._e()],1)])],1)],1)},n=[],s=(t("a481"),t("96cf"),t("3b8d")),a=t("4ec3"),o={name:"RiskConfig",data:function(){return{btnArr:[],btnLoading:!1,isModify:!1,listLoading:!1,labelWidth:"140px",isRegisterSwitch:!1,form:{registerIpLimit:"",loginIpLimit:"",registerDeviceLimit:""},rules:{registerIpLimit:[{required:!0,message:"必填",trigger:"blur"}],loginIpLimit:[{required:!0,message:"必填",trigger:"blur"}],registerDeviceLimit:[{required:!0,message:"必填",trigger:"blur"}]}}},methods:{getList:function(){var i=Object(s["a"])(regeneratorRuntime.mark((function i(){var e,t,r,n,s,o,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!this.listLoading){i.next=2;break}return i.abrupt("return");case 2:return e={},this.listLoading=!0,i.next=6,a["a"].apiGetRiskConfig(e);case 6:t=i.sent,t&&(r=t.data.data,n=r.registerIpLimit,s=r.loginIpLimit,o=r.registerDeviceLimit,l=r.id,this.form={registerIpLimit:n,loginIpLimit:s,registerDeviceLimit:o,id:l}),this.listLoading=!1;case 9:case"end":return i.stop()}}),i,this)})));function e(){return i.apply(this,arguments)}return e}(),checkVal:function(i){this.form[i]=(this.form[i]+"").replace(/[^\d]/g,""),this.form[i]<0&&(this.form[i]=0)},confirmSend:function(){var i=Object(s["a"])(regeneratorRuntime.mark((function i(){var e=this;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:this.$refs["form"].validate(function(){var i=Object(s["a"])(regeneratorRuntime.mark((function i(t){var r,n,s,o,l,c,m;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t){i.next=9;break}return r=e.form,n=r.registerIpLimit,s=r.loginIpLimit,o=r.registerDeviceLimit,l=r.id,c={registerIpLimit:n,loginIpLimit:s,registerDeviceLimit:o,id:l},e.btnLoading=!0,i.next=6,a["a"].apiEditRiskConfig(c);case 6:m=i.sent,m&&(e.$message({message:"修改成功！",type:"success"}),e.getList(),e.isModify=!1),e.btnLoading=!1;case 9:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());case 1:case"end":return i.stop()}}),i,this)})));function e(){return i.apply(this,arguments)}return e}()},mounted:function(){var i=this.$util.getAuthority("RiskList",[],[]);this.btnArr=i.btnArr,this.getList()}},l=o,c=(t("8538"),t("0c7c")),m=Object(c["a"])(l,r,n,!1,null,null,null);e["default"]=m.exports}}]);